{"version":3,"file":"FieldValidator.min.js","sources":["FieldValidator.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\nVtiger_Base_Validator_Js(\n\t'Vtiger_Email_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar emailInstance = new Vtiger_Email_Validator_Js();\n\t\t\temailInstance.setElement(field);\n\t\t\tvar response = emailInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn emailInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the email field data\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\treturn this.validateValue(fieldValue);\n\t\t},\n\t\t/**\n\t\t * Function to validate the email field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidateValue: function (fieldValue) {\n\t\t\tvar emailFilter =\n\t\t\t\t/^[_/a-zA-Z0-9*]+([!\"#$%&'()*+,./:;<=>?\\^_`{|}~-]?[a-zA-Z0-9/_/-])*@[a-zA-Z0-9]+([\\_\\-\\.]?[a-zA-Z0-9]+)*\\.([\\-\\_]?[a-zA-Z0-9])+(\\.?[a-zA-Z0-9]+)?$/;\n\t\t\tvar illegalChars = /[\\(\\)\\<\\>\\,\\;\\:\\\\\\\"\\[\\]]/;\n\n\t\t\tif (!emailFilter.test(fieldValue)) {\n\t\t\t\tthis.setError(app.translate('JS_PLEASE_ENTER_VALID_EMAIL_ADDRESS'));\n\t\t\t\treturn false;\n\t\t\t} else if (fieldValue.match(illegalChars)) {\n\t\t\t\tthis.setError(app.translate('JS_CONTAINS_ILLEGAL_CHARACTERS'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tif (\n\t\t\t\tfieldInfo &&\n\t\t\t\tfieldInfo.restrictedDomains &&\n\t\t\t\tfieldInfo.restrictedDomains.indexOf(fieldValue.split('@').pop()) != -1\n\t\t\t) {\n\t\t\t\tthis.setError(app.translate('JS_EMAIL_RESTRICTED_DOMAINS'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_UserName_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar usernameInstance = new Vtiger_UserName_Validator_Js();\n\t\t\tusernameInstance.setElement(field);\n\t\t\tvar response = usernameInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn usernameInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the User Name\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\tvar negativeRegex = /^[a-zA-Z0-9_.@]{3,32}$/;\n\t\t\tvar result = negativeRegex.test(fieldValue);\n\t\t\tif (!result) {\n\t\t\t\tvar errorInfo = app.translate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_PositiveNumber_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar positiveNumberInstance = new Vtiger_PositiveNumber_Validator_Js();\n\t\t\tpositiveNumberInstance.setElement(field);\n\t\t\tvar response = positiveNumberInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn positiveNumberInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\tvar negativeRegex = /(^[-]+\\d+)$/;\n\t\t\tparseFieldValue = app.parseNumberToFloat(this.getFieldValue());\n\t\t\tif (isNaN(parseFieldValue) || fieldValue < 0 || fieldValue.match(negativeRegex)) {\n\t\t\t\tvar errorInfo = app.translate('JS_ACCEPT_POSITIVE_NUMBER');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Integer_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar integerInstance = new Vtiger_Integer_Validator_Js();\n\t\t\tintegerInstance.setElement(field);\n\t\t\tvar response = integerInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn integerInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Integre field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tlet fieldValue = this.getFieldValue(),\n\t\t\t\tintegerRegex = /(^[-+]?\\d+)$/;\n\t\t\tif (!fieldValue.match(integerRegex)) {\n\t\t\t\tvar errorInfo = app.translate('JS_PLEASE_ENTER_INTEGER_VALUE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet fieldInfo = this.getElement().data().fieldinfo;\n\t\t\tif (!fieldInfo || !fieldInfo.maximumlength) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet ranges = fieldInfo.maximumlength.split(',');\n\t\t\tif (ranges.length === 2) {\n\t\t\t\tif (fieldValue > parseFloat(ranges[1]) || fieldValue < parseFloat(ranges[0])) {\n\t\t\t\t\terrorInfo = app.translate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (fieldValue > parseFloat(ranges[0]) || fieldValue < 0) {\n\t\t\t\t\terrorInfo = app.translate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_PositiveNumber_Validator_Js(\n\t'Vtiger_Percentage_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar percentageInstance = new Vtiger_Percentage_Validator_Js();\n\t\t\tpercentageInstance.setElement(field);\n\t\t\tvar response = percentageInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn percentageInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the percentage field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate() {\n\t\t\tconst response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tif (App.Fields.Double.formatToDb(this.getFieldValue()) > 100) {\n\t\t\t\t\tthis.setError(app.translate('JS_PERCENTAGE_VALUE_SHOULD_BE_LESS_THAN_100'));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Url_Validator_Js',\n\t{\n\t\t/**\n\t\t * Function which invokes field validation\n\t\t * @param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tlet validatorInstance = new Vtiger_Url_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tconst result = validatorInstance.validate();\n\t\t\tif (result === true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Url\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tlet fieldValue = this.getFieldValue();\n\t\t\tlet regexp = /(^|\\s)((https?:\\/\\/)?[\\w-]+(\\.[\\w-]+)+\\.?(:\\d+)?(\\/\\S*)?)/gi;\n\t\t\tlet result = regexp.test(fieldValue);\n\t\t\tif (!result) {\n\t\t\t\tif (\n\t\t\t\t\tfieldValue.indexOf('http://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('https://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('ftp://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('ftps://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('telnet://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('smb://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('www.') === 0\n\t\t\t\t) {\n\t\t\t\t\tresult = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!result) {\n\t\t\t\tlet errorInfo = app.translate('JS_CONTAINS_ILLEGAL_CHARACTERS'); //\"Please enter valid url\";\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_MultiSelect_Validator_Js',\n\t{\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar validatorInstance = new Vtiger_MultiSelect_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tvar result = validatorInstance.validate();\n\t\t\tif (result == true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Multi select\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar fieldInstance = this.getElement();\n\t\t\tvar selectElementValue = fieldInstance.val();\n\t\t\tif (selectElementValue == null) {\n\t\t\t\tvar errorInfo = app.translate('JS_PLEASE_SELECT_ATLEAST_ONE_OPTION');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Email_Validator_Js(\n\t'Vtiger_MultiEmails_Validator_Js',\n\t{\n\t\tinvokeValidation: function (field) {\n\t\t\tvar validatorInstance = new Vtiger_MultiEmails_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tvar result = validatorInstance.validate();\n\t\t\tif (!result) {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Multi select\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar fieldInstance = this.getElement();\n\t\t\tvar fieldInstanceValue = fieldInstance.val();\n\t\t\tif (fieldInstanceValue != '') {\n\t\t\t\tvar emailsArr = fieldInstanceValue.split(',');\n\t\t\t\tvar i;\n\t\t\t\tfor (i = 0; i < emailsArr.length; ++i) {\n\t\t\t\t\tvar result = this.validateValue(emailsArr[i]);\n\t\t\t\t\tif (result == false) {\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_PositiveNumber_Validator_Js(\n\t'Vtiger_GreaterThanZero_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar GreaterThanZeroInstance = new Vtiger_GreaterThanZero_Validator_Js();\n\t\t\tGreaterThanZeroInstance.setElement(field);\n\t\t\tvar response = GreaterThanZeroInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn GreaterThanZeroInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and greater than zero value\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue == 0) {\n\t\t\t\t\tvar errorInfo = app.translate('JS_VALUE_SHOULD_BE_GREATER_THAN_ZERO');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_PositiveNumber_Validator_Js(\n\t'Vtiger_WholeNumber_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_WholeNumber_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and whole Number\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tif (fieldValue % 1 != 0) {\n\t\t\t\tif (!jQuery.isEmptyObject(fieldInfo)) {\n\t\t\t\t\tvar errorInfo = app.translate('INVALID_NUMBER_OF') + ' ' + fieldInfo.label;\n\t\t\t\t} else {\n\t\t\t\t\tvar errorInfo = app.translate('INVALID_NUMBER');\n\t\t\t\t}\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_lessThanToday_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the birthday field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tvar fieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, fieldDateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfieldDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar todayDateInstance = new Date();\n\t\t\ttodayDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar comparedDateVal = todayDateInstance - fieldDateInstance;\n\t\t\tif (comparedDateVal <= 0) {\n\t\t\t\tvar errorInfo = fieldInfo.label + ' ' + app.translate('JS_SHOULD_BE_LESS_THAN_CURRENT_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_lessThanOrEqualToToday_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the datesold field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tvar fieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, fieldDateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfieldDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar todayDateInstance = new Date();\n\t\t\ttodayDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar comparedDateVal = todayDateInstance - fieldDateInstance;\n\t\t\tif (comparedDateVal < 0) {\n\t\t\t\tvar errorInfo =\n\t\t\t\t\tfieldInfo.label +\n\t\t\t\t\t' ' +\n\t\t\t\t\tapp.translate('JS_SHOULD_BE_LESS_THAN_OR_EQUAL_TO') +\n\t\t\t\t\t' ' +\n\t\t\t\t\tapp.translate('JS_CURRENT_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_greaterThanOrEqualToToday_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the dateinservice field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tvar fieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, fieldDateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfieldDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar todayDateInstance = new Date();\n\t\t\ttodayDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar comparedDateVal = todayDateInstance - fieldDateInstance;\n\t\t\tif (comparedDateVal > 0) {\n\t\t\t\tvar errorInfo =\n\t\t\t\t\tfieldInfo.label +\n\t\t\t\t\t' ' +\n\t\t\t\t\tapp.translate('JS_SHOULD_BE_GREATER_THAN_OR_EQUAL_TO') +\n\t\t\t\t\t' ' +\n\t\t\t\t\tapp.translate('JS_CURRENT_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_greaterThanDependentField_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar fieldForValidation = field[0];\n\t\t\tif (jQuery(fieldForValidation).attr('name') == 'followup_date_start') {\n\t\t\t\tvar dependentFieldList = new Array('date_start');\n\t\t\t}\n\t\t\tvar instance = new Vtiger_greaterThanDependentField_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate(dependentFieldList);\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the birthday field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function (dependentFieldList) {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldInfo = field.data('fieldinfo');\n\t\t\tvar fieldLabel;\n\t\t\tif (typeof fieldInfo == 'undefined') {\n\t\t\t\tfieldLabel = jQuery(field).attr('name');\n\t\t\t} else {\n\t\t\t\tfieldLabel = fieldInfo.label;\n\t\t\t}\n\t\t\tvar contextFormElem = field.closest('form');\n\t\t\tfor (var i = 0; i < dependentFieldList.length; i++) {\n\t\t\t\tvar dependentField = dependentFieldList[i];\n\t\t\t\tvar dependentFieldInContext = jQuery('input[name=' + dependentField + ']', contextFormElem);\n\t\t\t\tif (dependentFieldInContext.length > 0) {\n\t\t\t\t\tvar dependentFieldLabel = dependentFieldInContext.data('fieldinfo').label;\n\t\t\t\t\tvar fieldDateInstance = this.getDateTimeInstance(field);\n\t\t\t\t\tvar dependentFieldDateInstance = this.getDateTimeInstance(dependentFieldInContext);\n\t\t\t\t\tvar comparedDateVal = fieldDateInstance - dependentFieldDateInstance;\n\t\t\t\t\tif (comparedDateVal < 0) {\n\t\t\t\t\t\tvar errorInfo =\n\t\t\t\t\t\t\tfieldLabel +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tapp.translate('JS_SHOULD_BE_GREATER_THAN_OR_EQUAL_TO') +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tdependentFieldLabel +\n\t\t\t\t\t\t\t'';\n\t\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tgetDateTimeInstance: function (field) {\n\t\t\tvar dateFormat = field.data('dateFormat');\n\t\t\tvar fieldValue = field.val();\n\t\t\ttry {\n\t\t\t\tvar dateTimeInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, dateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn dateTimeInstance;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_dateAndTimeGreaterThanDependentField_Validator_Js',\n\t{},\n\t{\n\t\tfieldDateTime: '',\n\t\tfieldDateTimeInstance: [],\n\t\tdateFormat: '',\n\t\t/**\n\t\t * Function to validate the date field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function (dependentFieldList) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldDateTime = '';\n\t\t\tvar fieldDateTimeInstance = [];\n\t\t\tvar contextFormElem = field.closest('form');\n\t\t\tvar view = contextFormElem.attr('name');\n\t\t\tif (view == 'EditView') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar j = 0;\n\t\t\tfor (var i = 0; i < dependentFieldList.length; i++) {\n\t\t\t\tvar dependentField = dependentFieldList[i];\n\t\t\t\tvar dependentFieldInContext = jQuery('input[name=' + dependentField + ']', contextFormElem);\n\t\t\t\tif (dependentFieldInContext.length > 0) {\n\t\t\t\t\tif (typeof dependentFieldInContext.data('dateFormat') == 'undefined' && fieldDateTime) {\n\t\t\t\t\t\tfieldDateTime += ' ' + dependentFieldInContext.val();\n\t\t\t\t\t\tfieldDateTimeInstance[j] = Vtiger_Helper_Js.getDateInstance(fieldDateTime, dateFormat);\n\t\t\t\t\t\tj++;\n\t\t\t\t\t} else if (typeof dependentFieldInContext.data('dateFormat') != 'undefined') {\n\t\t\t\t\t\tvar dateFormat = dependentFieldInContext.data('dateFormat');\n\t\t\t\t\t\tfieldDateTime = dependentFieldInContext.val();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn thisInstance.difference(fieldDateTimeInstance);\n\t\t},\n\t\tdifference: function (fieldDateTimeInstance) {\n\t\t\tif (fieldDateTimeInstance.length == 2) {\n\t\t\t\tvar comparedDateVal = fieldDateTimeInstance[1] - fieldDateTimeInstance[0];\n\t\t\t\tif (comparedDateVal < 0) {\n\t\t\t\t\tvar errorInfo = app.translate('JS_AN_INCORRECT_RANGE_OF_DATES_WAS_ENTERED');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_futureEventCannotBeHeld_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate event status , which cannot be held for future events\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function (dependentFieldList) {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldLabel = field.data('fieldinfo').label;\n\t\t\tvar status = field.val();\n\t\t\tvar contextFormElem = field.closest('form');\n\t\t\tfor (var i = 0; i < dependentFieldList.length; i++) {\n\t\t\t\tvar dependentField = dependentFieldList[i];\n\t\t\t\tvar dependentFieldInContext = jQuery('input[name=' + dependentField + ']', contextFormElem);\n\t\t\t\tif (dependentFieldInContext.length > 0) {\n\t\t\t\t\tvar dependentFieldLabel = dependentFieldInContext.data('fieldinfo').label;\n\t\t\t\t\tvar todayDateInstance = new Date();\n\t\t\t\t\tvar dateFormat = dependentFieldInContext.data('dateFormat');\n\t\t\t\t\tvar time = jQuery('input[name=time_start]', contextFormElem);\n\t\t\t\t\tvar fieldValue = dependentFieldInContext.val() + ' ' + time.val();\n\t\t\t\t\tvar dependentFieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, dateFormat);\n\t\t\t\t\tvar comparedDateVal = todayDateInstance - dependentFieldDateInstance;\n\t\t\t\t\tif (comparedDateVal < 0 && status == 'Held') {\n\t\t\t\t\t\tvar errorInfo =\n\t\t\t\t\t\t\tfieldLabel + ' ' + app.translate('JS_FUTURE_EVENT_CANNOT_BE_HELD') + ' ' + dependentFieldLabel + '';\n\t\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_lessThanDependentField_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the birthday field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function (dependentFieldList) {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldLabel = field.data('fieldinfo').label;\n\t\t\tvar contextFormElem = field.closest('form');\n\t\t\t//No need to validate if value is empty\n\t\t\tif (field.val().length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = 0; i < dependentFieldList.length; i++) {\n\t\t\t\tvar dependentField = dependentFieldList[i];\n\t\t\t\tvar dependentFieldInContext = jQuery('input[name=' + dependentField + ']', contextFormElem);\n\t\t\t\tif (dependentFieldInContext.length > 0) {\n\t\t\t\t\tvar dependentFieldLabel = dependentFieldInContext.data('fieldinfo').label;\n\t\t\t\t\tvar fieldDateInstance = this.getDateTimeInstance(field);\n\t\t\t\t\t//No need to validate if value is empty\n\t\t\t\t\tif (dependentFieldInContext.val().length == 0) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvar dependentFieldDateInstance = this.getDateTimeInstance(dependentFieldInContext);\n\t\t\t\t\tvar comparedDateVal = fieldDateInstance - dependentFieldDateInstance;\n\t\t\t\t\tif (comparedDateVal > 0) {\n\t\t\t\t\t\tvar errorInfo =\n\t\t\t\t\t\t\tfieldLabel + ' ' + app.translate('JS_SHOULD_BE_LESS_THAN_OR_EQUAL_TO') + ' ' + dependentFieldLabel + '';\n\t\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tgetDateTimeInstance: function (field) {\n\t\t\tvar dateFormat = field.data('dateFormat');\n\t\t\tvar fieldValue = field.val();\n\t\t\ttry {\n\t\t\t\tvar dateTimeInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, dateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn dateTimeInstance;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Currency_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar currencyValidatorInstance = new Vtiger_Currency_Validator_Js();\n\t\t\tcurrencyValidatorInstance.setElement(field);\n\t\t\tvar response = currencyValidatorInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn currencyValidatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Currency Field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tlet response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tlet fieldData = this.getElement().data();\n\t\t\tlet decimalSeparator = fieldData.decimalSeparator ? fieldData.decimalSeparator : CONFIG.currencyDecimalSeparator;\n\t\t\tlet groupSeparator = fieldData.groupSeparator ? fieldData.groupSeparator : CONFIG.currencyGroupingSeparator;\n\n\t\t\tlet strippedValue = this.getFieldValue().replace(decimalSeparator, '');\n\t\t\tlet spacePattern = /\\s/;\n\t\t\tif (spacePattern.test(decimalSeparator) || spacePattern.test(groupSeparator))\n\t\t\t\tstrippedValue = strippedValue.replace(/ /g, '');\n\t\t\tlet errorInfo;\n\t\t\tconsole.log(spacePattern);\n\t\t\tif (groupSeparator === '$') {\n\t\t\t\tgroupSeparator = '\\\\$';\n\t\t\t}\n\t\t\tif (groupSeparator === '.') {\n\t\t\t\tgroupSeparator = '\\\\.';\n\t\t\t}\n\n\t\t\tlet regex = new RegExp(groupSeparator, 'g');\n\t\t\tstrippedValue = strippedValue.replace(regex, '');\n\n\t\t\tif (isNaN(strippedValue)) {\n\t\t\t\terrorInfo = app.translate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet negativeNumber = fieldData.fieldinfo && fieldData.fieldinfo.fieldtype === 'NN';\n\t\t\tif (!negativeNumber && strippedValue < 0) {\n\t\t\t\terrorInfo = app.translate('JS_ACCEPT_POSITIVE_NUMBER');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst maximumLength = typeof fieldData.fieldinfo !== 'undefined' ? fieldData.fieldinfo.maximumlength : null;\n\t\t\tif (maximumLength && strippedValue > parseFloat(maximumLength)) {\n\t\t\t\terrorInfo = app.translate('JS_ERROR_MAX_VALUE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_NumberUserFormat_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_NumberUserFormat_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\tvar decimalSeparator = app.getMainParams('currencyDecimalSeparator');\n\t\t\tvar groupSeparator = app.getMainParams('currencyGroupingSeparator');\n\t\t\tfieldValue = fieldValue.split(groupSeparator).join('');\n\n\t\t\tvar spacePattern = /\\s/;\n\t\t\tif (spacePattern.test(decimalSeparator) || spacePattern.test(groupSeparator))\n\t\t\t\tfieldValue = fieldValue.replace(/ /g, '');\n\n\t\t\tvar strippedValue = fieldValue.replace(decimalSeparator, '.');\n\t\t\tvar errorInfo;\n\n\t\t\tif (isNaN(strippedValue)) {\n\t\t\t\terrorInfo = app.translate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (strippedValue < 0) {\n\t\t\t\terrorInfo = app.translate('JS_ACCEPT_POSITIVE_NUMBER');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tstrippedValue = parseFloat(strippedValue);\n\t\t\tif (strippedValue != strippedValue.toString()) {\n\t\t\t\terrorInfo = app.translate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_ReferenceField_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and whole Number\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar field = this.getElement();\n\t\t\tvar parentElement = field.closest('.fieldValue');\n\t\t\tvar referenceField = parentElement.find('.sourceField');\n\t\t\tvar referenceFieldValue = referenceField.val();\n\t\t\tvar fieldInfo = referenceField.data().fieldinfo;\n\t\t\tif (referenceFieldValue == '') {\n\t\t\t\tvar errorInfo = app.translate('JS_REQUIRED_FIELD');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Double_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tlet doubleValidator = new Vtiger_Double_Validator_Js();\n\t\t\tdoubleValidator.setElement(field);\n\t\t\tlet response = doubleValidator.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn doubleValidator.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Decimal field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tlet response = this._super();\n\t\t\tif (response === true) {\n\t\t\t\tlet fieldValue = this.getFieldValue();\n\t\t\t\tlet doubleRegex = /(^[-+]?\\d+)(\\.\\d+)?$/;\n\t\t\t\tif (!fieldValue.toString().match(doubleRegex)) {\n\t\t\t\t\tlet errorInfo = app.translate('JS_PLEASE_ENTER_DECIMAL_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet fieldInfo = this.getElement().data().fieldinfo;\n\t\t\t\tif (!fieldInfo || !fieldInfo.maximumlength) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tlet maximumLength = fieldInfo.maximumlength,\n\t\t\t\t\tminimumLength = -maximumLength;\n\t\t\t\tfieldValue = parseFloat(fieldValue);\n\t\t\t\tlet ranges = maximumLength.split(',');\n\t\t\t\tif (ranges.length === 2) {\n\t\t\t\t\tmaximumLength = ranges[1];\n\t\t\t\t\tminimumLength = ranges[0];\n\t\t\t\t}\n\t\t\t\tif (fieldValue > parseFloat(maximumLength) || fieldValue < parseFloat(minimumLength)) {\n\t\t\t\t\terrorInfo = app.translate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn response;\n\t\t},\n\t\t/**\n\t\t * Overwrites base function to avoid trimming and validate white spaces\n\t\t * @return fieldValue\n\t\t * */\n\t\tgetFieldValue: function () {\n\t\t\treturn App.Fields.Double.formatToDb(this.getElement().val());\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Date_Validator_Js',\n\t{\n\t\t/**\n\t\t * Function which invokes field validation\n\t\t * @param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tlet dateValidatorInstance = new Vtiger_Date_Validator_Js();\n\t\t\tdateValidatorInstance.setElement(field);\n\t\t\tlet response = dateValidatorInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn dateValidatorInstance.getError();\n\t\t\t}\n\t\t\treturn response;\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and whole Number\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tlet field = this.getElement();\n\t\t\tlet fieldData = field.data();\n\t\t\tlet fieldDateFormat = fieldData.dateFormat;\n\t\t\tlet fieldValue = this.getFieldValue();\n\t\t\tconsole.log(field, fieldData, fieldDateFormat, fieldValue);\n\t\t\ttry {\n\t\t\t\tif (fieldData.calendarType === 'range') {\n\t\t\t\t\tfieldValue = fieldValue.split(',');\n\t\t\t\t\tif (fieldValue.length !== 2) {\n\t\t\t\t\t\tthrow new Error();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfieldValue = [fieldValue];\n\t\t\t\t}\n\t\t\t\tfieldValue.forEach((key) => {\n\t\t\t\t\tVtiger_Helper_Js.getDateInstance(key, fieldDateFormat);\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tlet errorInfo = app.translate('JS_PLEASE_ENTER_VALID_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Time_Validator_Js',\n\t{\n\t\t/**\n\t\t * Function which invokes field validation\n\t\t * @param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar validatorInstance = new Vtiger_Time_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tvar result = validatorInstance.validate();\n\t\t\tif (result == true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Time Fields\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tlet format = app.getMainParams('hourFormat');\n\t\t\tif (this.field.data('format') && [12, 24].indexOf(this.field.data('format')) != -1) {\n\t\t\t\tformat = this.field.data('format');\n\t\t\t}\n\t\t\tlet regexp = '';\n\t\t\tswitch (format) {\n\t\t\t\tcase 12:\n\t\t\t\t\tregexp = new RegExp('^([0][0-9]|1[0-2]):([0-5][0-9])([ ]PM|[ ]AM|PM|AM)$');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tregexp = new RegExp('^(2[0-3]|[0][0-9]|1[0-9]):([0-5][0-9])$');\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (!regexp.test(this.getFieldValue())) {\n\t\t\t\tlet errorInfo = app.translate('JS_PLEASE_ENTER_VALID_TIME');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\n//Calendar Specific validators\n// We have placed it here since quick create will not load module specific validators\n\nVtiger_greaterThanDependentField_Validator_Js(\n\t'Calendar_greaterThanDependentField_Validator_Js',\n\t{},\n\t{\n\t\tgetDateTimeInstance: function (field) {\n\t\t\tvar form = field.closest('form');\n\t\t\tif (field.attr('name') == 'date_start') {\n\t\t\t\tvar timeField = form.find('[name=\"time_start\"]');\n\t\t\t\tvar timeFieldValue = timeField.val();\n\t\t\t} else if (field.attr('name') == 'due_date') {\n\t\t\t\tvar timeField = form.find('[name=\"time_end\"]');\n\t\t\t\tif (timeField.length > 0) {\n\t\t\t\t\tvar timeFieldValue = timeField.val();\n\t\t\t\t} else {\n\t\t\t\t\t//Max value for the day\n\t\t\t\t\ttimeFieldValue = '11:59 PM';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar dateFieldValue = field.val() + ' ' + timeFieldValue;\n\t\t\tvar dateFormat = field.data('dateFormat');\n\t\t\treturn Vtiger_Helper_Js.getDateInstance(dateFieldValue, dateFormat);\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Calendar_greaterThanToday_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the birthday field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tvar fieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, fieldDateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfieldDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar todayDateInstance = new Date();\n\t\t\ttodayDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar comparedDateVal = todayDateInstance - fieldDateInstance;\n\t\t\tif (comparedDateVal >= 0) {\n\t\t\t\tvar errorInfo = fieldInfo.label + ' ' + app.translate('JS_SHOULD_BE_GREATER_THAN_CURRENT_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Calendar_RepeatMonthDate_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar repeatMonthDateValidatorInstance = new Calendar_RepeatMonthDate_Validator_Js();\n\t\t\trepeatMonthDateValidatorInstance.setElement(field);\n\t\t\tvar response = repeatMonthDateValidatorInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn repeatMonthDateValidatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and whole Number\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar fieldValue = this.getFieldValue();\n\n\t\t\tif (\n\t\t\t\tparseInt(parseFloat(fieldValue)) != fieldValue ||\n\t\t\t\tfieldValue == '' ||\n\t\t\t\tparseInt(fieldValue) > '31' ||\n\t\t\t\tparseInt(fieldValue) <= 0\n\t\t\t) {\n\t\t\t\tvar result = app.translate('JS_NUMBER_SHOULD_BE_LESS_THAN_32');\n\t\t\t\tthis.setError(result);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_WholeNumber_Validator_Js(\n\t'Vtiger_WholeNumberGreaterThanZero_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar WholeNumberGreaterThanZero = new Vtiger_WholeNumberGreaterThanZero_Validator_Js();\n\t\t\tWholeNumberGreaterThanZero.setElement(field);\n\t\t\tvar response = WholeNumberGreaterThanZero.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn WholeNumberGreaterThanZero.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and greater than zero value\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue == 0) {\n\t\t\t\t\tvar errorInfo = app.translate('JS_VALUE_SHOULD_BE_GREATER_THAN_ZERO');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_AlphaNumeric_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar alphaNumericInstance = new Vtiger_AlphaNumeric_Validator_Js();\n\t\t\talphaNumericInstance.setElement(field);\n\t\t\tvar response = alphaNumericInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn alphaNumericInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldValue = field.val();\n\t\t\tvar alphaNumericRegex = /^[a-z0-9 _-]*$/i;\n\t\t\tif (!fieldValue.match(alphaNumericRegex)) {\n\t\t\t\tvar errorInfo = app.translate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_AlphaNumericWithSlashesCurlyBraces_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar alphaNumericInstance = new Vtiger_AlphaNumericWithSlashesCurlyBraces_Validator_Js();\n\t\t\talphaNumericInstance.setElement(field);\n\t\t\tvar response = alphaNumericInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn alphaNumericInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldValue = field.val();\n\t\t\tvar alphaNumericRegex = /^[\\/a-z\\\\0-9{} _-]*$/i;\n\t\t\tif (!fieldValue.match(alphaNumericRegex)) {\n\t\t\t\tvar errorInfo = app.translate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_InputMask_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar maskInstance = new Vtiger_InputMask_Validator_Js();\n\t\t\tmaskInstance.setElement(field);\n\t\t\tvar response = maskInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn maskInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldValue = field.val();\n\t\t\tif (field.inputmask('hasMaskedValue')) {\n\t\t\t\tvar unMaskedValue = field.inputmask('unmaskedvalue');\n\t\t\t\tvar getmetadata = field.inputmask('getmetadata');\n\t\t\t\tvar maskLength =\n\t\t\t\t\t(getmetadata.match(/9/g) || []).length +\n\t\t\t\t\t(getmetadata.match(/A/g) || []).length +\n\t\t\t\t\t(getmetadata.match(/'*'/g) || []).length;\n\t\t\t\tif (unMaskedValue.length != 0 && maskLength > unMaskedValue.length) {\n\t\t\t\t\tvar errorInfo = app.translate('JS_INVALID_LENGTH');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\twindow.inputMaskValidation = true;\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\twindow.inputMaskValidation = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (window.inputMaskValidation) {\n\t\t\t\tvar errorInfo = app.translate('JS_INVALID_LENGTH');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_MaxSizeInByte_Validator_Js',\n\t{\n\t\tinvokeValidation(field, rules, i, options) {\n\t\t\tconst instance = new Vtiger_MaxSizeInByte_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tif (instance.validate() != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tvalidate() {\n\t\t\tlet response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tconst field = this.getElement();\n\t\t\tconst fieldValue = field.val();\n\t\t\tif (\n\t\t\t\tfield.data('fieldinfo').maximumlength &&\n\t\t\t\t(typeof TextEncoder === 'function'\n\t\t\t\t\t? new TextEncoder().encode(fieldValue).byteLength > field.data('fieldinfo').maximumlength\n\t\t\t\t\t: fieldValue.length > field.data('fieldinfo').maximumlength)\n\t\t\t) {\n\t\t\t\tthis.setError(app.translate('JS_MAXIMUM_TEXT_SIZE_IN_BYTES') + ' ' + field.data('fieldinfo').maximumlength);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Double_Validator_Js('Vtiger_Advpercentage_Validator_Js', {});\n"],"names":["Vtiger_Base_Validator_Js","invokeValidation","field","emailInstance","setElement","validate","getError","getFieldValue","validateValue","fieldValue","illegalChars","emailFilter","test","setError","app","translate","match","getElement","fieldData","data","fieldInfo","fieldinfo","restrictedDomains","indexOf","split","pop","usernameInstance","negativeRegex","result","errorInfo","positiveNumberInstance","parseFieldValue","parseNumberToFloat","isNaN","integerInstance","integerRegex","maximumlength","length","parseFloat","ranges","Vtiger_PositiveNumber_Validator_Js","percentageInstance","_super","Fields","Double","formatToDb","response","validatorInstance","regexp","selectElementValue","fieldInstance","val","Vtiger_Email_Validator_Js","fieldInstanceValue","emailsArr","i","GreaterThanZeroInstance","instance","jQuery","isEmptyObject","label","fieldDateFormat","dateFormat","Vtiger_Helper_Js","getDateInstance","err","fieldDateInstance","setHours","todayDateInstance","fieldForValidation","attr","dependentFieldList","fieldLabel","closest","dependentFieldInContext","dependentField","contextFormElem","getDateTimeInstance","dependentFieldDateInstance","dependentFieldLabel","fieldDateTime","fieldDateTimeInstance","view","j","difference","status","time","currencyValidatorInstance","decimalSeparator","CONFIG","currencyDecimalSeparator","groupSeparator","currencyGroupingSeparator","strippedValue","replace","spacePattern","console","log","regex","fieldtype","negativeNumber","maximumLength","getMainParams","join","toString","parentElement","referenceField","find","referenceFieldValue","doubleValidator","doubleRegex","minimumLength","dateValidatorInstance","calendarType","forEach","key","format","Vtiger_greaterThanDependentField_Validator_Js","form","timeFieldValue","timeField","dateFieldValue","repeatMonthDateValidatorInstance","parseInt","Vtiger_WholeNumber_Validator_Js","WholeNumberGreaterThanZero","alphaNumericInstance","alphaNumericRegex","maskInstance","inputmask","getmetadata","maskLength","unMaskedValue","window","inputMaskValidation","encode","byteLength","Vtiger_Double_Validator_Js"],"mappings":"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"}