{"version":3,"file":"Fields.min.js","sources":["Fields.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n\nwindow.App.Fields = {\n\tPicklist: {\n\t\t/**\n\t\t * Function which will convert ui of select boxes.\n\t\t * @params parent - select element\n\t\t * @params view - select2\n\t\t * @params viewParams - select2 params\n\t\t * @returns jquery object list which represents changed select elements\n\t\t */\n\t\tchangeSelectElementView: function (parent, view, viewParams) {\n\t\t\tif (typeof parent === 'undefined') {\n\t\t\t\tparent = $('body');\n\t\t\t}\n\t\t\tif (typeof view === 'undefined') {\n\t\t\t\tconst select2Elements = $('select.select2', parent).toArray();\n\t\t\t\tselect2Elements.forEach((elem) => {\n\t\t\t\t\tthis.changeSelectElementView($(elem), 'select2', viewParams);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//If view is select2, This will convert the ui of select boxes to select2 elements.\n\t\t\tif (view === 'select2') {\n\t\t\t\treturn App.Fields.Picklist.showSelect2ElementView(parent, viewParams);\n\t\t\t} else {\n\t\t\t\tapp.errorLog(new Error(`Unknown select type [${view}]`));\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function which will show the select2 element for select boxes . This will use select2 library\n\t\t */\n\t\tshowSelect2ElementView: function (selectElement, params) {\n\t\t\tlet self = this;\n\t\t\tselectElement = $(selectElement);\n\t\t\tif (typeof params === 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tif ($(selectElement).length > 1) {\n\t\t\t\treturn $(selectElement).each((index, element) => {\n\t\t\t\t\tthis.showSelect2ElementView($(element).eq(0), params);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof params.dropdownParent === 'undefined') {\n\t\t\t\tconst modalParent = $(selectElement).closest('.modal-body');\n\t\t\t\tif (modalParent.length) {\n\t\t\t\t\tparams.dropdownParent = modalParent;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = selectElement.data();\n\t\t\tif (data != null) {\n\t\t\t\tparams = $.extend(data, params);\n\t\t\t}\n\t\t\tparams.language = {};\n\t\t\tparams.theme = 'bootstrap';\n\t\t\tconst width = $(selectElement).data('width');\n\t\t\tif (typeof width !== 'undefined') {\n\t\t\t\tparams.width = width;\n\t\t\t} else {\n\t\t\t\tparams.width = '100%';\n\t\t\t}\n\t\t\tparams.containerCssClass = 'form-control w-100';\n\t\t\tconst containerCssClass = selectElement.data('containerCssClass');\n\t\t\tif (typeof containerCssClass !== 'undefined') {\n\t\t\t\tparams.containerCssClass += ' ' + containerCssClass;\n\t\t\t}\n\t\t\tparams.language.noResults = function (msn) {\n\t\t\t\treturn app.translate('JS_NO_RESULTS_FOUND');\n\t\t\t};\n\n\t\t\t// Sort DOM nodes alphabetically in select box.\n\t\t\tif (typeof params['customSortOptGroup'] !== 'undefined' && params['customSortOptGroup']) {\n\t\t\t\t$('optgroup', selectElement).each(function () {\n\t\t\t\t\tvar optgroup = $(this);\n\t\t\t\t\tvar options = optgroup\n\t\t\t\t\t\t.children()\n\t\t\t\t\t\t.toArray()\n\t\t\t\t\t\t.sort(function (a, b) {\n\t\t\t\t\t\t\tvar aText = $(a).text();\n\t\t\t\t\t\t\tvar bText = $(b).text();\n\t\t\t\t\t\t\treturn aText < bText ? 1 : -1;\n\t\t\t\t\t\t});\n\t\t\t\t\t$.each(options, function (i, v) {\n\t\t\t\t\t\toptgroup.prepend(v);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tdelete params['customSortOptGroup'];\n\t\t\t}\n\n\t\t\t//formatSelectionTooBig param is not defined even it has the maximumSelectionLength,\n\t\t\t//then we should send our custom function for formatSelectionTooBig\n\t\t\tif (typeof params.maximumSelectionLength !== 'undefined' && typeof params.formatSelectionTooBig === 'undefined') {\n\t\t\t\tvar limit = params.maximumSelectionLength;\n\t\t\t\t//custom function which will return the maximum selection size exceeds message.\n\t\t\t\tvar formatSelectionExceeds = function (limit) {\n\t\t\t\t\t// return app.translate('JS_YOU_CAN_SELECT_ONLY') + ' ' + limit.maximum + ' ' + app.translate('JS_ITEMS');\n\t\t\t\t};\n\t\t\t\tparams.language.maximumSelected = formatSelectionExceeds;\n\t\t\t}\n\t\t\tif (typeof selectElement.attr('multiple') !== 'undefined' && !params.placeholder) {\n\t\t\t\t//params.placeholder = app.translate('JS_SELECT_SOME_OPTIONS');\n\t\t\t} else if (!params.placeholder) {\n\t\t\t\t//params.placeholder = app.translate('JS_SELECT_AN_OPTION');\n\t\t\t}\n\t\t\tif (typeof params.templateResult === 'undefined') {\n\t\t\t\tparams.templateResult = function (data, container) {\n\t\t\t\t\tif (data.element && data.element.className) {\n\t\t\t\t\t\t$(container).addClass(data.element.className);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof data.name === 'undefined') {\n\t\t\t\t\t\treturn data.text;\n\t\t\t\t\t}\n\t\t\t\t\tif (data.type == 'optgroup') {\n\t\t\t\t\t\treturn '<strong>' + data.name + '</strong>';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '<span>' + data.name + '</span>';\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (typeof params.templateSelection === 'undefined') {\n\t\t\t\tparams.templateSelection = function (data, container) {\n\t\t\t\t\tif (data.element && data.element.className) {\n\t\t\t\t\t\t$(container).addClass(data.element.className);\n\t\t\t\t\t}\n\t\t\t\t\tif (data.text === '') {\n\t\t\t\t\t\treturn data.name;\n\t\t\t\t\t}\n\t\t\t\t\treturn data.text;\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (selectElement.data('ajaxSearch') === 1) {\n\t\t\t\tparams.tags = false;\n\t\t\t\t// params.language.searching = function () {\n\t\t\t\t// \treturn app.translate('JS_SEARCHING');\n\t\t\t\t// }\n\t\t\t\t// params.language.inputTooShort = function (args) {\n\t\t\t\t// \tvar remainingChars = args.minimum - args.input.length;\n\t\t\t\t// \treturn app.translate('JS_INPUT_TOO_SHORT').replace(\"_LENGTH_\", remainingChars);\n\t\t\t\t// }\n\t\t\t\t// params.language.errorLoading = function () {\n\t\t\t\t// \treturn app.translate('JS_NO_RESULTS_FOUND');\n\t\t\t\t// }\n\t\t\t\tparams.placeholder = '';\n\t\t\t\tparams.ajax = {\n\t\t\t\t\turl: selectElement.data('ajaxUrl'),\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tdelay: 250,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: function (params) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tvalue: params.term, // search term\n\t\t\t\t\t\t\tpage: params.page\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tprocessResults: function (data, params) {\n\t\t\t\t\t\tvar items = new Array();\n\t\t\t\t\t\tif (data.success == true) {\n\t\t\t\t\t\t\tselectElement.find('option').each(function () {\n\t\t\t\t\t\t\t\tvar currentTarget = $(this);\n\t\t\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\t\t\tlabel: currentTarget.html(),\n\t\t\t\t\t\t\t\t\tvalue: currentTarget.val()\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\titems = items.concat(data.result.items);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tresults: items,\n\t\t\t\t\t\t\tpagination: {\n\t\t\t\t\t\t\t\tmore: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tcache: false\n\t\t\t\t};\n\t\t\t\tparams.escapeMarkup = function (markup) {\n\t\t\t\t\tif (markup !== 'undefined') return markup;\n\t\t\t\t};\n\t\t\t\tvar minimumInputLength = 3;\n\t\t\t\tif (selectElement.data('minimumInput') !== 'undefined') {\n\t\t\t\t\tminimumInputLength = selectElement.data('minimumInput');\n\t\t\t\t}\n\t\t\t\tparams.minimumInputLength = minimumInputLength;\n\t\t\t\tparams.templateResult = function (data) {\n\t\t\t\t\tif (typeof data.name === 'undefined') {\n\t\t\t\t\t\treturn data.text;\n\t\t\t\t\t}\n\t\t\t\t\tif (data.type == 'optgroup') {\n\t\t\t\t\t\treturn '<strong>' + data.name + '</strong>';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '<span>' + data.name + '</span>';\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tparams.templateSelection = function (data, container) {\n\t\t\t\t\tif (data.text === '') {\n\t\t\t\t\t\treturn data.name;\n\t\t\t\t\t}\n\t\t\t\t\treturn data.text;\n\t\t\t\t};\n\t\t\t}\n\t\t\tselectElement.each(function (e) {\n\t\t\t\tvar select = $(this);\n\t\t\t\tif (select.attr('readonly') == 'readonly' && !select.attr('disabled')) {\n\t\t\t\t\tvar selectNew = select.clone().addClass('d-none');\n\t\t\t\t\tselect.parent().append(selectNew);\n\t\t\t\t\tselect.prop('disabled', true);\n\t\t\t\t}\n\t\t\t\tlet htmlBoolParams = select.data('select');\n\t\t\t\tif (htmlBoolParams === 'tags') {\n\t\t\t\t\tparams.tags = true;\n\t\t\t\t\tparams.tokenSeparators = [','];\n\t\t\t\t} else {\n\t\t\t\t\tparams[htmlBoolParams] = true;\n\t\t\t\t}\n\t\t\t\tselect\n\t\t\t\t\t.select2(params)\n\t\t\t\t\t.on('select2:open', function (e) {\n\t\t\t\t\t\tif (select.data('unselecting')) {\n\t\t\t\t\t\t\tselect.removeData('unselecting');\n\t\t\t\t\t\t\tsetTimeout(function (e) {\n\t\t\t\t\t\t\t\tselect.each(function () {\n\t\t\t\t\t\t\t\t\t$(this).select2('close');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar element = $(e.currentTarget);\n\t\t\t\t\t\tvar instance = element.data('select2');\n\t\t\t\t\t\tinstance.$dropdown.css('z-index', 1000002);\n\t\t\t\t\t})\n\t\t\t\t\t.on('select2:unselect', function (e) {\n\t\t\t\t\t\tselect.data('unselecting', true);\n\t\t\t\t\t});\n\n\t\t\t\tif (select.hasClass('js-select2-sortable')) {\n\t\t\t\t\tself.registerSelect2Sortable(select, params.sortableCb);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn selectElement;\n\t\t},\n\t\t/**\n\t\t * Register select2 drag and drop sorting\n\t\t * @param {jQuery} select2 element\n\t\t * @param {function} callback function\n\t\t */\n\t\tregisterSelect2Sortable(select, cb = () => {}) {\n\t\t\tlet ul = select.next('.select2-container').first('ul.select2-selection__rendered');\n\t\t\tul.sortable({\n\t\t\t\titems: 'li:not(.select2-search__field)',\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tstop: function () {\n\t\t\t\t\t$(ul.find('.select2-selection__choice').get().reverse()).each(function () {\n\t\t\t\t\t\tlet optionTitle = $(this).attr('title');\n\t\t\t\t\t\tselect.find('option').each(function () {\n\t\t\t\t\t\t\tif ($(this).text() === optionTitle) {\n\t\t\t\t\t\t\t\tselect.prepend($(this));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tcb(select);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tTree: class {\n\t\tconstructor(treeContainer = $('.js-tree-container')) {\n\t\t\tif (treeContainer.length > 0) {\n\t\t\t\tthis.treeInstance = treeContainer;\n\t\t\t\tthis.loadTree();\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Get instance of Tree.\n\t\t * @returns {Tree}\n\t\t */\n\t\tstatic getInstance(container = $('.js-tree-container')) {\n\t\t\tif (typeof window.App.Fields.Tree.instance === 'undefined') {\n\t\t\t\twindow.App.Fields.Tree.instance = new window.App.Fields.Tree(container);\n\t\t\t}\n\t\t\treturn window.App.Fields.Tree.instance;\n\t\t}\n\t\tloadTree() {\n\t\t\tthis.generateTree(JSON.parse(this.treeInstance.find('.js-tree-data').val()));\n\t\t}\n\t\tgenerateTree(treeData) {\n\t\t\tthis.treeInstance.jstree({\n\t\t\t\tcore: {\n\t\t\t\t\tdata: treeData,\n\t\t\t\t\tmultiple: false,\n\t\t\t\t\tthemes: {\n\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\tresponsive: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tInteger: {\n\t\t/**\n\t\t * Function returns the integer in user specified format.\n\t\t * @param {number} value\n\t\t * @param {int} numberOfDecimal\n\t\t * @returns {string}\n\t\t */\n\t\tformatToDisplay(value) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tlet groupSeparator = app.getMainParams('currencyGroupingSeparator');\n\t\t\tlet groupingPattern = app.getMainParams('currencyGroupingPattern');\n\t\t\tvalue = parseFloat(value).toFixed(1);\n\t\t\tlet integer = value.toString().split('.')[0];\n\t\t\tif (integer.length > 3) {\n\t\t\t\tif (groupingPattern === '123,456,789') {\n\t\t\t\t\tinteger = integer.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1' + groupSeparator);\n\t\t\t\t} else if (groupingPattern === '123456,789') {\n\t\t\t\t\tinteger = integer.slice(0, -3) + groupSeparator + integer.slice(-3);\n\t\t\t\t} else if (groupingPattern === '12,34,56,789') {\n\t\t\t\t\tinteger =\n\t\t\t\t\t\tinteger.slice(0, -3).replace(/(\\d)(?=(\\d\\d)+(?!\\d))/g, '$1' + groupSeparator) +\n\t\t\t\t\t\tgroupSeparator +\n\t\t\t\t\t\tinteger.slice(-3);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn integer;\n\t\t}\n\t},\n\tDouble: {\n\t\t/**\n\t\t * Function returns the currency in user specified format.\n\t\t * @param {number} value\n\t\t * @param {boolean} numberOfDecimal\n\t\t * @param {int} numberOfDecimal\n\t\t * @returns {string}\n\t\t */\n\t\tformatToDisplay(value, fixed = true, numberOfDecimal = app.getMainParams('numberOfCurrencyDecimal')) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tvalue = parseFloat(value);\n\t\t\tif (fixed) {\n\t\t\t\tvalue = value.toFixed(numberOfDecimal);\n\t\t\t}\n\t\t\tlet a = value.toString().split('.');\n\t\t\tlet integer = App.Fields.Integer.formatToDisplay(a[0]);\n\t\t\tlet decimal = a[1];\n\t\t\tif (numberOfDecimal) {\n\t\t\t\tif (app.getMainParams('truncateTrailingZeros')) {\n\t\t\t\t\tif (decimal) {\n\t\t\t\t\t\tlet d = '';\n\t\t\t\t\t\tfor (var i = 0; i < decimal.length; i++) {\n\t\t\t\t\t\t\tif (decimal[decimal.length - i - 1] !== '0') {\n\t\t\t\t\t\t\t\td = decimal[decimal.length - i - 1] + d;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdecimal = d;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (decimal) {\n\t\t\t\t\treturn integer + app.getMainParams('currencyDecimalSeparator') + decimal;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn integer;\n\t\t}\n\t}\n};\n"],"names":["window","App","Fields","Picklist","changeSelectElementView","parent","view","viewParams","$","toArray","forEach","elem","showSelect2ElementView","errorLog","selectElement","params","self","length","each","index","element","eq","dropdownParent","closest","modalParent","data","extend","language","theme","width","containerCssClass","noResults","translate","options","optgroup","children","sort","a","b","text","bText","i","v","prepend","maximumSelectionLength","formatSelectionTooBig","formatSelectionExceeds","maximumSelected","attr","placeholder","templateResult","container","className","addClass","name","type","templateSelection","tags","ajax","url","dataType","delay","method","value","term","page","processResults","success","find","items","push","label","currentTarget","html","val","concat","result","results","pagination","more","cache","escapeMarkup","markup","minimumInputLength","select","clone","append","selectNew","prop","tokenSeparators","htmlBoolParams","select2","on","e","removeData","setTimeout","instance","$dropdown","css","hasClass","registerSelect2Sortable","sortableCb","ul","next","first","sortable","tolerance","stop","get","reverse","optionTitle","cb","Tree","treeInstance","treeContainer","loadTree","generateTree","JSON","parse","treeData","jstree","core","multiple","themes","responsive","Integer","formatToDisplay","app","getMainParams","groupingPattern","parseFloat","toFixed","toString","split","integer","replace","groupSeparator","slice","Double","numberOfDecimal","fixed","decimal","d"],"mappings":"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"}