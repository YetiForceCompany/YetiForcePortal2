{"version":3,"file":"ProgressIndicator.min.js","sources":["ProgressIndicator.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\nclass ProgressIndicatorHelper {\n\tconstructor() {\n\t\tthis.defaults = {\n\t\t\tposition: 'append',\n\t\t\tmode: 'show',\n\t\t\tblockInfo: {\n\t\t\t\telementToBlock: 'body'\n\t\t\t},\n\t\t\tmessage: ''\n\t\t};\n\t\tthis.imageContainerCss = {\n\t\t\t'text-align': 'center'\n\t\t};\n\t\tthis.blockOverlayCSS = {\n\t\t\topacity: '0.2',\n\t\t\t'z-index': '1100'\n\t\t};\n\t\tthis.blockCss = {\n\t\t\tborder: '',\n\t\t\t'background-color': '',\n\t\t\t'background-clip': 'border-box',\n\t\t\t'border-radius': '2px',\n\t\t\t'z-index': '1100'\n\t\t};\n\t\tthis.showTopCSS = {\n\t\t\twidth: '25%',\n\t\t\tleft: '37.5%',\n\t\t\tposition: 'fixed',\n\t\t\ttop: '4.5%',\n\t\t\t'z-index': '1100'\n\t\t};\n\t\tthis.showOnTop = false;\n\t}\n\tinit(element, options) {\n\t\tif (typeof options === 'undefined') {\n\t\t\toptions = {};\n\t\t}\n\t\tthis.options = $.extend(true, this.defaults, options);\n\t\tthis.container = element;\n\t\tthis.position = options.position;\n\t\tif (typeof options.imageContainerCss !== 'undefined') {\n\t\t\tthis.imageContainerCss = $.extend(true, this.imageContainerCss, options.imageContainerCss);\n\t\t}\n\t\tif (this.isBlockMode()) {\n\t\t\tthis.elementToBlock = $(this.options.blockInfo.elementToBlock);\n\t\t}\n\t\treturn this;\n\t}\n\tinitActions() {\n\t\tif (this.options.mode === 'show') {\n\t\t\tthis.show();\n\t\t} else if (this.options.mode === 'hide') {\n\t\t\tthis.hide();\n\t\t}\n\t}\n\tisPageBlockMode() {\n\t\tif (typeof this.elementToBlock !== 'undefined' && this.elementToBlock.is('body')) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tisBlockMode() {\n\t\tif (typeof this.options.blockInfo !== 'undefined' && this.options.blockInfo.enabled === true) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tshow() {\n\t\tlet className = 'bigLoading';\n\t\tif (this.options.smallLoadingImage == true) {\n\t\t\tclassName = 'smallLoading';\n\t\t}\n\t\tif (this.isBlockMode()) {\n\t\t\tclassName = className + ' blockProgressContainer';\n\t\t}\n\t\tlet imageHtml =\n\t\t\t'<div class=\"imageHolder ' +\n\t\t\tclassName +\n\t\t\t'\">' +\n\t\t\t'<div class=\"sk-cube-grid\"><div class=\"sk-cube sk-cube1\"></div>' +\n\t\t\t'<div class=\"sk-cube sk-cube2\"></div>' +\n\t\t\t'<div class=\"sk-cube sk-cube3\"></div><div class=\"sk-cube sk-cube4\"></div><div class=\"sk-cube sk-cube5\"></div>' +\n\t\t\t'<div class=\"sk-cube sk-cube6\"></div><div class=\"sk-cube sk-cube7\"></div><div class=\"sk-cube sk-cube8\"></div>' +\n\t\t\t'<div class=\"sk-cube sk-cube9\"></div></div></div>';\n\t\tlet jQImageHtml = jQuery(imageHtml).css(this.imageContainerCss);\n\t\tlet jQMessage = this.options.message;\n\t\tif (jQMessage.length == 0) {\n\t\t\tjQMessage = app.translate('JS_LOADING_PLEASE_WAIT');\n\t\t}\n\t\tif (!(jQMessage instanceof jQuery)) {\n\t\t\tjQMessage = $('<span></span>').html(jQMessage);\n\t\t}\n\t\tlet messageContainer = $('<div class=\"message\"></div>').append(jQMessage);\n\t\tjQImageHtml.append(messageContainer);\n\t\tif (this.isBlockMode()) {\n\t\t\tjQImageHtml.addClass('blockMessageContainer');\n\t\t}\n\t\tswitch (this.position) {\n\t\t\tcase 'prepend':\n\t\t\t\tthis.container.prepend(jQImageHtml);\n\t\t\t\tbreak;\n\t\t\tcase 'html':\n\t\t\t\tthis.container.html(jQImageHtml);\n\t\t\t\tbreak;\n\t\t\tcase 'replace':\n\t\t\t\tthis.container.replaceWith(jQImageHtml);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.container.append(jQImageHtml);\n\t\t}\n\t\tif (this.isBlockMode()) {\n\t\t\tthis.blockedElement = this.elementToBlock;\n\t\t\tif (this.isPageBlockMode()) {\n\t\t\t\t$.blockUI({\n\t\t\t\t\tmessage: this.container,\n\t\t\t\t\toverlayCSS: this.blockOverlayCSS,\n\t\t\t\t\tcss: this.blockCss,\n\t\t\t\t\tonBlock: this.options.blockInfo.onBlock\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.elementToBlock.block({\n\t\t\t\t\tmessage: this.container,\n\t\t\t\t\toverlayCSS: this.blockOverlayCSS,\n\t\t\t\t\tcss: this.blockCss\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (this.showOnTop) {\n\t\t\tthis.container.css(this.showTopCSS).appendTo('body');\n\t\t}\n\t}\n\thide() {\n\t\t$('.imageHolder', this.container).remove();\n\t\tif (typeof this.blockedElement !== 'undefined') {\n\t\t\tif (this.isPageBlockMode()) {\n\t\t\t\t$.unblockUI();\n\t\t\t} else {\n\t\t\t\tthis.blockedElement.unblock();\n\t\t\t}\n\t\t}\n\t\tthis.container.removeData('progressIndicator');\n\t}\n}\n/**\n * Extend jQuery\n */\n$.extend({\n\tprogressIndicator(options) {\n\t\tlet progressImageContainer = $('<div class=\"js-progress-image-container\"></div>');\n\t\tlet progressIndicatorInstance = new ProgressIndicatorHelper();\n\t\tprogressIndicatorInstance.init(progressImageContainer, options);\n\t\tif (!progressIndicatorInstance.isBlockMode()) {\n\t\t\tprogressIndicatorInstance.showOnTop = true;\n\t\t}\n\t\tprogressIndicatorInstance.initActions();\n\t\treturn progressImageContainer.data('progressIndicator', progressIndicatorInstance);\n\t},\n\tprogressIndicatorShow() {\n\t\treturn $.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true\n\t\t\t}\n\t\t});\n\t},\n\tprogressIndicatorHide() {\n\t\t$('.js-progress-image-container').progressIndicator({ mode: 'hide' });\n\t}\n});\n/**\n * Extend jQuery\n */\n$.fn.extend({\n\tprogressIndicator(options) {\n\t\tlet element = this;\n\t\tif (this.length <= 0) {\n\t\t\telement = $('body');\n\t\t}\n\t\treturn element.each((index, element) => {\n\t\t\tlet jQueryObject = $(element),\n\t\t\t\tprogressIndicatorInstance;\n\t\t\tif (typeof jQueryObject.data('progressIndicator') !== 'undefined') {\n\t\t\t\tprogressIndicatorInstance = jQueryObject.data('progressIndicator');\n\t\t\t} else {\n\t\t\t\tprogressIndicatorInstance = new ProgressIndicatorHelper();\n\t\t\t\tjQueryObject.data('progressIndicator', progressIndicatorInstance);\n\t\t\t}\n\t\t\tprogressIndicatorInstance.init(jQueryObject, options).initActions();\n\t\t});\n\t}\n});\n"],"names":["ProgressIndicatorHelper","defaults","position","mode","blockInfo","elementToBlock","message","imageContainerCss","blockOverlayCSS","opacity","blockCss","border","showTopCSS","width","left","top","showOnTop","element","options","$","extend","container","isBlockMode","show","hide","is","enabled","className","smallLoadingImage","imageHtml","jQImageHtml","jQuery","css","jQMessage","length","app","translate","html","messageContainer","append","addClass","prepend","replaceWith","blockedElement","isPageBlockMode","blockUI","overlayCSS","onBlock","block","appendTo","remove","unblockUI","unblock","removeData","progressIndicator","progressImageContainer","progressIndicatorInstance","init","initActions","data","progressIndicatorShow","progressIndicatorHide","fn","each","index","jQueryObject"],"mappings":"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"}