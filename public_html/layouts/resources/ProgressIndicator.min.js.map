{"version":3,"file":"ProgressIndicator.min.js","sources":["ProgressIndicator.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\nclass ProgressIndicatorHelper {\n\tconstructor() {\n\t\tthis.defaults = {\n\t\t\tposition: 'append',\n\t\t\tmode: 'show',\n\t\t\tblockInfo: {\n\t\t\t\telementToBlock: 'body'\n\t\t\t},\n\t\t\tmessage: ''\n\t\t};\n\t\tthis.imageContainerCss = {\n\t\t\t'text-align': 'center'\n\t\t};\n\t\tthis.blockOverlayCSS = {\n\t\t\topacity: '0.2',\n\t\t\t'z-index': '1100'\n\t\t};\n\t\tthis.blockCss = {\n\t\t\tborder: '',\n\t\t\t'background-color': '',\n\t\t\t'background-clip': 'border-box',\n\t\t\t'border-radius': '2px',\n\t\t\t'z-index': '1100'\n\t\t};\n\t\tthis.showTopCSS = {\n\t\t\twidth: '25%',\n\t\t\tleft: '37.5%',\n\t\t\tposition: 'fixed',\n\t\t\ttop: '4.5%',\n\t\t\t'z-index': '1100'\n\t\t};\n\t\tthis.showOnTop = false;\n\t}\n\tinit(element, options) {\n\t\tif (typeof options === 'undefined') {\n\t\t\toptions = {};\n\t\t}\n\t\tthis.options = $.extend(true, this.defaults, options);\n\t\tthis.container = element;\n\t\tthis.position = options.position;\n\t\tif (typeof options.imageContainerCss !== 'undefined') {\n\t\t\tthis.imageContainerCss = $.extend(true, this.imageContainerCss, options.imageContainerCss);\n\t\t}\n\t\tif (this.isBlockMode()) {\n\t\t\tthis.elementToBlock = $(this.options.blockInfo.elementToBlock);\n\t\t}\n\t\treturn this;\n\t}\n\tinitActions() {\n\t\tif (this.options.mode === 'show') {\n\t\t\tthis.show();\n\t\t} else if (this.options.mode === 'hide') {\n\t\t\tthis.hide();\n\t\t}\n\t}\n\tisPageBlockMode() {\n\t\tif (typeof this.elementToBlock !== 'undefined' && this.elementToBlock.is('body')) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tisBlockMode() {\n\t\tif (typeof this.options.blockInfo !== 'undefined' && this.options.blockInfo.enabled === true) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tshow() {\n\t\tlet className = 'bigLoading';\n\t\tif (this.options.smallLoadingImage == true) {\n\t\t\tclassName = 'smallLoading';\n\t\t}\n\t\tif (this.isBlockMode()) {\n\t\t\tclassName = className + ' blockProgressContainer';\n\t\t}\n\t\tlet imageHtml =\n\t\t\t'<div class=\"imageHolder ' +\n\t\t\tclassName +\n\t\t\t'\">' +\n\t\t\t'<div class=\"sk-cube-grid\"><div class=\"sk-cube sk-cube1\"></div>' +\n\t\t\t'<div class=\"sk-cube sk-cube2\"></div>' +\n\t\t\t'<div class=\"sk-cube sk-cube3\"></div><div class=\"sk-cube sk-cube4\"></div><div class=\"sk-cube sk-cube5\"></div>' +\n\t\t\t'<div class=\"sk-cube sk-cube6\"></div><div class=\"sk-cube sk-cube7\"></div><div class=\"sk-cube sk-cube8\"></div>' +\n\t\t\t'<div class=\"sk-cube sk-cube9\"></div></div></div>';\n\t\tlet jQImageHtml = jQuery(imageHtml).css(this.imageContainerCss);\n\t\tlet jQMessage = this.options.message;\n\t\tif (jQMessage.length == 0) {\n\t\t\tjQMessage = app.translate('JS_LOADING_PLEASE_WAIT');\n\t\t}\n\t\tif (!(jQMessage instanceof jQuery)) {\n\t\t\tjQMessage = $('<span></span>').html(jQMessage);\n\t\t}\n\t\tlet messageContainer = $('<div class=\"message\"></div>').append(jQMessage);\n\t\tjQImageHtml.append(messageContainer);\n\t\tif (this.isBlockMode()) {\n\t\t\tjQImageHtml.addClass('blockMessageContainer');\n\t\t}\n\t\tswitch (this.position) {\n\t\t\tcase 'prepend':\n\t\t\t\tthis.container.prepend(jQImageHtml);\n\t\t\t\tbreak;\n\t\t\tcase 'html':\n\t\t\t\tthis.container.html(jQImageHtml);\n\t\t\t\tbreak;\n\t\t\tcase 'replace':\n\t\t\t\tthis.container.replaceWith(jQImageHtml);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.container.append(jQImageHtml);\n\t\t}\n\t\tif (this.isBlockMode()) {\n\t\t\tthis.blockedElement = this.elementToBlock;\n\t\t\tif (this.isPageBlockMode()) {\n\t\t\t\t$.blockUI({\n\t\t\t\t\tmessage: this.container,\n\t\t\t\t\toverlayCSS: this.blockOverlayCSS,\n\t\t\t\t\tcss: this.blockCss,\n\t\t\t\t\tonBlock: this.options.blockInfo.onBlock\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.elementToBlock.block({\n\t\t\t\t\tmessage: this.container,\n\t\t\t\t\toverlayCSS: this.blockOverlayCSS,\n\t\t\t\t\tcss: this.blockCss\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (this.showOnTop) {\n\t\t\tthis.container.css(this.showTopCSS).appendTo('body');\n\t\t}\n\t}\n\thide() {\n\t\t$('.imageHolder', this.container).remove();\n\t\tif (typeof this.blockedElement !== 'undefined') {\n\t\t\tif (this.isPageBlockMode()) {\n\t\t\t\t$.unblockUI();\n\t\t\t} else {\n\t\t\t\tthis.blockedElement.unblock();\n\t\t\t}\n\t\t}\n\t\tthis.container.removeData('progressIndicator');\n\t}\n}\n/**\n * Extend jQuery\n */\n$.extend({\n\tprogressIndicator(options) {\n\t\tlet progressImageContainer = $('<div class=\"js-progress-image-container\"></div>');\n\t\tlet progressIndicatorInstance = new ProgressIndicatorHelper();\n\t\tprogressIndicatorInstance.init(progressImageContainer, options);\n\t\tif (!progressIndicatorInstance.isBlockMode()) {\n\t\t\tprogressIndicatorInstance.showOnTop = true;\n\t\t}\n\t\tprogressIndicatorInstance.initActions();\n\t\treturn progressImageContainer.data('progressIndicator', progressIndicatorInstance);\n\t},\n\tprogressIndicatorShow() {\n\t\treturn $.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true\n\t\t\t}\n\t\t});\n\t},\n\tprogressIndicatorHide() {\n\t\t$('.js-progress-image-container').progressIndicator({ mode: 'hide' });\n\t}\n});\n/**\n * Extend jQuery\n */\n$.fn.extend({\n\tprogressIndicator(options) {\n\t\tlet element = this;\n\t\tif (this.length <= 0) {\n\t\t\telement = $('body');\n\t\t}\n\t\treturn element.each((index, element) => {\n\t\t\tlet jQueryObject = $(element),\n\t\t\t\tprogressIndicatorInstance;\n\t\t\tif (typeof jQueryObject.data('progressIndicator') !== 'undefined') {\n\t\t\t\tprogressIndicatorInstance = jQueryObject.data('progressIndicator');\n\t\t\t} else {\n\t\t\t\tprogressIndicatorInstance = new ProgressIndicatorHelper();\n\t\t\t\tjQueryObject.data('progressIndicator', progressIndicatorInstance);\n\t\t\t}\n\t\t\tprogressIndicatorInstance.init(jQueryObject, options).initActions();\n\t\t});\n\t}\n});\n"],"names":["defaults","position","mode","blockInfo","elementToBlock","message","imageContainerCss","blockOverlayCSS","opacity","blockCss","border","showTopCSS","width","left","top","showOnTop","element","options","$","extend","container","isBlockMode","show","hide","is","enabled","className","smallLoadingImage","jQImageHtml","jQuery","imageHtml","css","jQMessage","length","app","translate","html","messageContainer","append","addClass","prepend","replaceWith","blockedElement","isPageBlockMode","blockUI","overlayCSS","onBlock","block","appendTo","remove","unblockUI","unblock","removeData","progressIndicator","progressIndicatorInstance","init","progressImageContainer","initActions","data","progressIndicatorShow","progressIndicatorHide","fn","each","index","jQueryObject","ProgressIndicatorHelper"],"mappings":"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"}