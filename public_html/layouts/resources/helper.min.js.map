{"version":3,"file":"helper.min.js","sources":["helper.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\njQuery.Class(\n\t'Base_Helper_Js',\n\t{\n\t\tcheckServerConfigResponseCache: '',\n\t\tlangCode: '',\n\t\t/*\n\t\t * Function to set lang code\n\t\t */\n\t\tsetLangCode: function () {\n\t\t\tvar htmlTag = document.getElementsByTagName('html')[0];\n\t\t\tthis.langCode = htmlTag.getAttribute('lang') ? htmlTag.getAttribute('lang') : 'en';\n\t\t},\n\t\t/*\n\t\t * Function to get lang code\n\t\t */\n\t\tgetLangCode: function () {\n\t\t\tif (!this.langCode) {\n\t\t\t\tthis.setLangCode();\n\t\t\t}\n\t\t\treturn this.langCode;\n\t\t},\n\t\t/*\n\t\t * Function to get the instance of Mass edit of Email\n\t\t */\n\t\tgetEmailMassEditInstance: function () {\n\t\t\tvar className = 'Emails_MassEdit_Js';\n\t\t\tvar emailMassEditInstance = new window[className]();\n\t\t\treturn emailMassEditInstance;\n\t\t},\n\t\tgetDayFromDate: function (date) {\n\t\t\tvar dayOfWeek = this.getDay(date);\n\t\t\treturn this.getLabelDayFromDate(dayOfWeek);\n\t\t},\n\t\tgetDay: function (date) {\n\t\t\tvar dateObj = new Date(date);\n\t\t\tif (isNaN(dateObj.getDay())) {\n\t\t\t\tdateObj = Date.parse(date);\n\t\t\t}\n\t\t\treturn dateObj.getDay();\n\t\t},\n\t\tgetLabelDayFromDate: function (day) {\n\t\t\tvar dayOfWeek = day;\n\t\t\tvar dayOfWeekLabel = '';\n\t\t\tswitch (dayOfWeek) {\n\t\t\t\tcase 0:\n\t\t\t\t\tdayOfWeekLabel = 'JS_SUN';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tdayOfWeekLabel = 'JS_MON';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tdayOfWeekLabel = 'JS_TUE';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tdayOfWeekLabel = 'JS_WED';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tdayOfWeekLabel = 'JS_THU';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tdayOfWeekLabel = 'JS_FRI';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tdayOfWeekLabel = 'JS_SAT';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn app.translate(dayOfWeekLabel);\n\t\t},\n\t\t/*\n\t\t * Function to get Date Instance\n\t\t * @params date---this is the field value\n\t\t * @params dateFormat---user date format\n\t\t * @return date object\n\t\t */\n\t\tgetDateInstance: function (dateTime, dateFormat) {\n\t\t\tvar dateTimeComponents = dateTime.split(' ');\n\t\t\tvar dateComponent = dateTimeComponents[0];\n\t\t\tvar timeComponent = dateTimeComponents[1];\n\t\t\tvar seconds = '00';\n\n\t\t\tvar dotMode = '-';\n\t\t\tif (dateFormat.indexOf('-') !== -1) {\n\t\t\t\tdotMode = '-';\n\t\t\t}\n\t\t\tif (dateFormat.indexOf('.') !== -1) {\n\t\t\t\tdotMode = '.';\n\t\t\t}\n\t\t\tif (dateFormat.indexOf('/') !== -1) {\n\t\t\t\tdotMode = '/';\n\t\t\t}\n\n\t\t\tvar splittedDate = dateComponent.split(dotMode);\n\t\t\tvar splittedDateFormat = dateFormat.split(dotMode);\n\t\t\tvar year = splittedDate[splittedDateFormat.indexOf('yyyy')];\n\t\t\tvar month = splittedDate[splittedDateFormat.indexOf('mm')];\n\t\t\tvar date = splittedDate[splittedDateFormat.indexOf('dd')];\n\t\t\tvar dateInstance = Date.parse(year + dotMode + month + dotMode + date);\n\t\t\tif (year.length > 4 || month.length > 2 || date.length > 2 || dateInstance === null) {\n\t\t\t\tvar errorMsg = app.translate('JS_INVALID_DATE');\n\t\t\t\tthrow errorMsg;\n\t\t\t}\n\n\t\t\t//Before creating date object time is set to 00\n\t\t\t//because as while calculating date object it depends system timezone\n\t\t\tif (typeof timeComponent === 'undefined') {\n\t\t\t\ttimeComponent = '00:00:00';\n\t\t\t}\n\n\t\t\tvar timeSections = timeComponent.split(':');\n\t\t\tif (typeof timeSections[2] !== 'undefined') {\n\t\t\t\tseconds = timeSections[2];\n\t\t\t}\n\n\t\t\t//Am/Pm component exits\n\t\t\tif (typeof dateTimeComponents[2] !== 'undefined') {\n\t\t\t\ttimeComponent += ' ' + dateTimeComponents[2];\n\t\t\t\tif (dateTimeComponents[2].toLowerCase() === 'pm' && timeSections[0] !== '12') {\n\t\t\t\t\ttimeSections[0] = parseInt(timeSections[0], 10) + 12;\n\t\t\t\t}\n\n\t\t\t\tif (dateTimeComponents[2].toLowerCase() === 'am' && timeSections[0] === '12') {\n\t\t\t\t\ttimeSections[0] = '00';\n\t\t\t\t}\n\t\t\t}\n\t\t\tmonth = month - 1;\n\t\t\treturn new Date(year, month, date, timeSections[0], timeSections[1], seconds);\n\t\t},\n\t\tunique: function (array) {\n\t\t\treturn array.filter(function (el, index, arr) {\n\t\t\t\treturn index === arr.indexOf(el);\n\t\t\t});\n\t\t}\n\t},\n\t{}\n);\n"],"names":["jQuery","Class","checkServerConfigResponseCache","langCode","setLangCode","htmlTag","document","getElementsByTagName","getAttribute","getLangCode","getEmailMassEditInstance","emailMassEditInstance","window","getDayFromDate","date","dayOfWeek","getDay","getLabelDayFromDate","dateObj","Date","isNaN","parse","day","dayOfWeekLabel","app","translate","getDateInstance","dateTime","dateFormat","dateTimeComponents","split","dateComponent","timeComponent","seconds","dotMode","indexOf","splittedDate","splittedDateFormat","year","month","dateInstance","length","errorMsg","timeSections","toLowerCase","parseInt","unique","array","filter","el","index","arr"],"mappings":"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"}