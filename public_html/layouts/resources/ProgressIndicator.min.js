'use strict';

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

var ProgressIndicatorHelper=function(){function ProgressIndicatorHelper(){classCallCheck(this,ProgressIndicatorHelper),this.defaults={position:'append',mode:'show',blockInfo:{elementToBlock:'body'},message:''},this.imageContainerCss={"text-align":'center'},this.blockOverlayCSS={opacity:'0.2',"z-index":'1030'},this.blockCss={border:'',"background-color":'',"background-clip":'border-box',"border-radius":'2px',"z-index":'1030'},this.showTopCSS={width:'25%',left:'37.5%',position:'fixed',top:'4.5%',"z-index":'1030'},this.showOnTop=!1;}return createClass(ProgressIndicatorHelper,[{key:'init',value:function init(element,options){return 'undefined'==typeof options&&(options={}),this.options=$.extend(!0,this.defaults,options),this.container=element,this.position=options.position,'undefined'!=typeof options.imageContainerCss&&(this.imageContainerCss=$.extend(!0,this.imageContainerCss,options.imageContainerCss)),this.isBlockMode()&&(this.elementToBlock=$(this.options.blockInfo.elementToBlock)),this}},{key:'initActions',value:function initActions(){'show'===this.options.mode?this.show():'hide'===this.options.mode&&this.hide();}},{key:'isPageBlockMode',value:function isPageBlockMode(){return !!('undefined'!=typeof this.elementToBlock&&this.elementToBlock.is('body'))}},{key:'isBlockMode',value:function isBlockMode(){return 'undefined'!=typeof this.options.blockInfo&&!0===this.options.blockInfo.enabled}},{key:'show',value:function show(){var className='bigLoading';!0==this.options.smallLoadingImage&&(className='smallLoading'),this.isBlockMode()&&(className+=' blockProgressContainer');var imageHtml='<div class="imageHolder '+className+'"><div class="sk-cube-grid"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class="sk-cube sk-cube9"></div></div></div>',jQImageHtml=jQuery(imageHtml).css(this.imageContainerCss),jQMessage=this.options.message;0==jQMessage.length&&(jQMessage=app.translate('JS_LOADING_PLEASE_WAIT')),jQMessage instanceof jQuery||(jQMessage=$('<span></span>').html(jQMessage));var messageContainer=$('<div class="message"></div>').append(jQMessage);switch(jQImageHtml.append(messageContainer),this.isBlockMode()&&jQImageHtml.addClass('blockMessageContainer'),this.position){case'prepend':this.container.prepend(jQImageHtml);break;case'html':this.container.html(jQImageHtml);break;case'replace':this.container.replaceWith(jQImageHtml);break;default:this.container.append(jQImageHtml);}this.isBlockMode()&&(this.blockedElement=this.elementToBlock,this.isPageBlockMode()?$.blockUI({message:this.container,overlayCSS:this.blockOverlayCSS,css:this.blockCss,onBlock:this.options.blockInfo.onBlock}):this.elementToBlock.block({message:this.container,overlayCSS:this.blockOverlayCSS,css:this.blockCss})),this.showOnTop&&this.container.css(this.showTopCSS).appendTo('body');}},{key:'hide',value:function hide(){$('.imageHolder',this.container).remove(),'undefined'!=typeof this.blockedElement&&(this.isPageBlockMode()?$.unblockUI():this.blockedElement.unblock()),this.container.removeData('progressIndicator');}}]),ProgressIndicatorHelper}();/**
 * Extend jQuery
 *//**
 * Extend jQuery
 */$.extend({progressIndicator:function progressIndicator(options){var progressImageContainer=$('<div class="js-progress-image-container"></div>'),progressIndicatorInstance=new ProgressIndicatorHelper;return progressIndicatorInstance.init(progressImageContainer,options),progressIndicatorInstance.isBlockMode()||(progressIndicatorInstance.showOnTop=!0),progressIndicatorInstance.initActions(),progressImageContainer.data('progressIndicator',progressIndicatorInstance)},progressIndicatorShow:function progressIndicatorShow(){return $.progressIndicator({position:'html',blockInfo:{enabled:!0}})},progressIndicatorHide:function progressIndicatorHide(){$('.js-progress-image-container').progressIndicator({mode:'hide'});}}),$.fn.extend({progressIndicator:function progressIndicator(options){var element=this;return 0>=this.length&&(element=$('body')),element.each(function(index,element){var progressIndicatorInstance,jQueryObject=$(element);'undefined'==typeof jQueryObject.data('progressIndicator')?(progressIndicatorInstance=new ProgressIndicatorHelper,jQueryObject.data('progressIndicator',progressIndicatorInstance)):progressIndicatorInstance=jQueryObject.data('progressIndicator'),progressIndicatorInstance.init(jQueryObject,options).initActions();})}});
//# sourceMappingURL=ProgressIndicator.min.js.map
