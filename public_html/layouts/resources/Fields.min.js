'use strict';

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */window.App.Fields={Date:{months:['JS_JAN','JS_FEB','JS_MAR','JS_APR','JS_MAY_SHORT','JS_JUN','JS_JUL','JS_AUG','JS_SEP','JS_OCT','JS_NOV','JS_DEC'],monthsTranslated:['JS_JAN','JS_FEB','JS_MAR','JS_APR','JS_MAY_SHORT','JS_JUN','JS_JUL','JS_AUG','JS_SEP','JS_OCT','JS_NOV','JS_DEC'].map(function(monthName){return app.translate(monthName)}),fullMonths:['JS_JANUARY','JS_FEBRUARY','JS_MARCH','JS_APRIL','JS_MAY','JS_JUNE','JS_JULY','JS_AUGUST','JS_SEPTEMBER','JS_OCTOBER','JS_NOVEMBER','JS_DECEMBER'],fullMonthsTranslated:['JS_JANUARY','JS_FEBRUARY','JS_MARCH','JS_APRIL','JS_MAY','JS_JUNE','JS_JULY','JS_AUGUST','JS_SEPTEMBER','JS_OCTOBER','JS_NOVEMBER','JS_DECEMBER'].map(function(monthName){return app.translate(monthName)}),days:['JS_SUN','JS_MON','JS_TUE','JS_WED','JS_THU','JS_FRI','JS_SAT'],daysTranslated:['JS_SUN','JS_MON','JS_TUE','JS_WED','JS_THU','JS_FRI','JS_SAT'].map(function(monthName){return app.translate(monthName)}),fullDays:['JS_SUNDAY','JS_MONDAY','JS_TUESDAY','JS_WEDNESDAY','JS_THURSDAY','JS_FRIDAY','JS_SATURDAY'],fullDaysTranslated:['JS_SUNDAY','JS_MONDAY','JS_TUESDAY','JS_WEDNESDAY','JS_THURSDAY','JS_FRIDAY','JS_SATURDAY'].map(function(monthName){return app.translate(monthName)}),/**
		 * Register DatePicker
		 * @param {$} parentElement
		 * @param {boolean} registerForAddon
		 * @param {object} customParams
		 */register:function register(parentElement,registerForAddon,customParams){var className=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'dateField';parentElement='undefined'==typeof parentElement?$('body'):$(parentElement),'undefined'==typeof registerForAddon&&(registerForAddon=!0);var elements=$('.'+className,parentElement);if(parentElement.hasClass(className)&&(elements=parentElement),0!==elements.length){if(!0===registerForAddon){var parentDateElem=elements.closest('.date');$('.js-date__btn',parentDateElem).on('click',function(e){$(e.currentTarget).closest('.date').find('input.'+className).get(0).focus();});}var format=app.getMainParams('dateFormat'),elementDateFormat=elements.data('dateFormat');'undefined'!=typeof elementDateFormat&&(format=elementDateFormat);var params={todayBtn:'linked',clearBtn:!0,language:app.getMainParams('langKey'),weekStart:app.getMainParams('firstDayOfWeekNo'),autoclose:!0,todayHighlight:!0,format:format};return 'undefined'!=typeof customParams&&(params=$.extend(params,customParams)),elements.each(function(index,element){$(element).datepicker($.extend(!0,Object.assign(params,{enableOnReadonly:!element.hasAttribute('readonly')}),$(element).data('params')));}),elements}},/**
		 * Register dateRangePicker
		 * @param {jQuery} parentElement
		 * @param {object} customParams
		 */registerRange:function registerRange(parentElement){var customParams=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};parentElement='undefined'==typeof parentElement?$('body'):$(parentElement);var elements=$('.dateRangeField',parentElement);if(parentElement.hasClass('dateRangeField')&&(elements=parentElement),0!==elements.length){var format=app.getMainParams('userDateFormat').toUpperCase(),elementDateFormat=elements.data('dateFormat');'undefined'!=typeof elementDateFormat&&(format=elementDateFormat.toUpperCase());var ranges={};ranges[app.translate('JS_TODAY')]=[moment(),moment()],ranges[app.translate('JS_TOMORROW')]=[moment().add(1,'days'),moment().add(1,'days')],ranges[app.translate('JS_YESTERDAY')]=[moment().subtract(1,'days'),moment().subtract(1,'days')],ranges[app.translate('JS_LAST_7_DAYS')]=[moment().subtract(6,'days'),moment()],ranges[app.translate('JS_NEXT_7_DAYS')]=[moment(),moment().add(6,'days')],ranges[app.translate('JS_CURRENT_MONTH')]=[moment().startOf('month'),moment().endOf('month')],ranges[app.translate('JS_NEXT_MONTH')]=[moment().add(1,'month').startOf('month'),moment().add(1,'month').endOf('month')],ranges[app.translate('JS_LAST_MONTH')]=[moment().subtract(1,'month').startOf('month'),moment().subtract(1,'month').endOf('month')],ranges[app.translate('JS_NEXT_MONTH')]=[moment().add(1,'month').startOf('month'),moment().add(1,'month').endOf('month')],ranges[app.translate('JS_LAST_3_MONTHS')]=[moment().subtract(3,'month').startOf('month'),moment().subtract(1,'month').endOf('month')],ranges[app.translate('JS_NEXT_3_MONTHS')]=[moment().startOf('month'),moment().add(3,'month').endOf('month')],ranges[app.translate('JS_LAST_6_MONTHS')]=[moment().subtract(6,'month').startOf('month'),moment().subtract(1,'month').endOf('month')],ranges[app.translate('JS_NEXT_6_MONTHS')]=[moment().startOf('month'),moment().add(6,'month').endOf('month')];var params={autoUpdateInput:!1,autoApply:!0,ranges:ranges,locale:{format:format,separator:',',applyLabel:app.translate('JS_APPLY'),cancelLabel:app.translate('JS_CANCEL'),fromLabel:app.translate('JS_FROM'),toLabel:app.translate('JS_TO'),customRangeLabel:app.translate('JS_CUSTOM'),weekLabel:app.translate('JS_WEEK').substr(0,1)}};'undefined'!=typeof customParams&&(params=$.extend(params,customParams)),parentElement.find('.js-date__btn').off().on('click',function(e){$(e.currentTarget).parent().next('.dateRangeField')[0].focus();}),elements.each(function(index,element){var el=$(element),currentParams=$.extend(!0,params,el.data('params'));el.daterangepicker(currentParams).on('apply.daterangepicker',function(ev,picker){$(this).val(picker.startDate.format(currentParams.locale.format)+','+picker.endDate.format(currentParams.locale.format)),$(this).trigger('change');}).on('show.daterangepicker',function(ev,picker){App.Fields.Utils.positionPicker(ev,picker);}).on('showCalendar.daterangepicker',function(ev,picker){App.Fields.Utils.positionPicker(ev,picker),picker.container.addClass('js-visible');}).on('hide.daterangepicker',function(ev,picker){picker.container.removeClass('js-visible');});});}}},DateTime:function(){function DateTime(container,params){classCallCheck(this,DateTime),this.container=container,this.init(container,params);}/**
		 * Register function
		 * @param {jQuery} container
		 * @param {Object} params
		 */return createClass(DateTime,[{key:'init',/**
		 * Initialization datetime
		 */value:function init(){$('.input-group-text',this.container.closest('.dateTime')).on('click',function(e){$(e.currentTarget).closest('.dateTime').find('input.dateTimePickerField').get(0).focus();});var dateFormat=app.getMainParams('userDateFormat').toUpperCase(),elementDateFormat=this.container.data('dateFormat');'undefined'!=typeof elementDateFormat&&(dateFormat=elementDateFormat.toUpperCase());var hourFormat=app.getMainParams('userTimeFormat'),elementHourFormat=this.container.data('hourFormat');'undefined'!=typeof elementHourFormat&&(hourFormat=elementHourFormat);var timePicker24Hour=!0,timeFormat='HH:mm';'24'!=hourFormat&&(timePicker24Hour=!1,timeFormat='hh:mm A');var format=dateFormat+' '+timeFormat,isDateRangePicker='range'!==this.container.data('calendarType'),params={parentEl:this.container.closest('.dateTime'),singleDatePicker:isDateRangePicker,showDropdowns:!0,timePicker:!0,autoUpdateInput:!1,timePicker24Hour:timePicker24Hour,timePickerIncrement:1,autoApply:!0,opens:'left',locale:{format:format,separator:','}};'undefined'!=typeof customParams&&(params=$.extend(params,customParams)),this.container.daterangepicker(params).on('apply.daterangepicker',function(ev,picker){isDateRangePicker?$(this).val(picker.startDate.format(format)):$(this).val(picker.startDate.format(format)+','+picker.endDate.format(format));});}}],[{key:'register',value:function register(container,params){if('undefined'==typeof container&&(container=$('body')),container.hasClass('dateTimePickerField')&&!container.prop('disabled'))return new DateTime(container);var instances=[];return container.find('.dateTimePickerField:not([disabled])').each(function(_,e){var element=$(e);instances.push(new DateTime(element,$.extend(params,element.data())));}),instances}}]),DateTime}(),Text:{Editor:function(){function Editor(container,params){classCallCheck(this,Editor),this.container=container,this.init(container,params);}/**
			 * Register function
			 * @param {jQuery} container
			 * @param {Object} params
			 */return createClass(Editor,[{key:'init',/**
			 * Initiation
			 * @param {jQuery} element
			 * @param {Object} params
			 */value:function init(element,params){var config={};if(element.hasClass('js-editor--basic')&&(config.toolbar='Min'),element.data('height')&&(config.height=element.data('height')),params=$.extend(config,params),this.isModal=element.closest('.js-modal-container').length,this.isModal){var self=this;this.progressInstance=$.progressIndicator({blockInfo:{enabled:!0,onBlock:function onBlock(){self.loadEditor(element,params);}}});}else App.Fields.Text.destroyEditor(element),this.loadEditor(element,params);}/*
			 *Function to set the textArea element
			 */},{key:'setElement',value:function setElement(element){return this.element=$(element),this}/*
			 *Function to get the textArea element
			 */},{key:'getElement',value:function getElement(){return this.element}/*
			 * Function to return Element's id atrribute value
			 */},{key:'getElementId',value:function getElementId(){return this.getElement().attr('id')}/*
			 * Function to get the instance of ckeditor
			 */},{key:'getEditorInstanceFromName',value:function getEditorInstanceFromName(){return CKEDITOR.instances[this.getElementId()]}/*
			 * Function to load CkEditor
			 * @param {HTMLElement|jQuery} element on which CkEditor has to be loaded
			 * @param {Object} customConfig custom configurations for ckeditor
			 */},{key:'loadEditor',value:function loadEditor(element,customConfig){this.setElement(element);var instance=this.getEditorInstanceFromName(),self=this,config={language:CONFIG.langKey,allowedContent:!0,disableNativeSpellChecker:!1,extraAllowedContent:'div{page-break-after*}',format_tags:'p;h1;h2;h3;h4;h5;h6;pre;address;div',removeButtons:'',enterMode:CKEDITOR.ENTER_BR,shiftEnterMode:CKEDITOR.ENTER_P,emojiEnabled:!1,mentionsEnabled:!1,on:{instanceReady:function instanceReady(evt){evt.editor.on('blur',function(){evt.editor.updateElement();}),self.isModal&&self.progressInstance.progressIndicator({mode:'hide'});}},removePlugins:'scayt',extraPlugins:'colorbutton,pagebreak,colordialog,find,selectall,showblocks,div,print,font,justify,bidi,ckeditor-image-to-base',toolbar:'Full',toolbar_Full:[{name:'clipboard',items:['Cut','Copy','Paste','PasteText','PasteFromWord','-','Undo','Redo']},{name:'editing',items:['Find','Replace','-','SelectAll']},{name:'links',items:['Link','Unlink']},{name:'insert',items:['ckeditor-image-to-base','Table','HorizontalRule','SpecialChar','PageBreak']},{name:'tools',items:['Maximize','ShowBlocks']},{name:'paragraph',items:['Outdent','Indent','-','Blockquote','CreateDiv']},{name:'document',items:['Source','Print']},'/',{name:'styles',items:['Styles','Format','Font','FontSize']},{name:'basicstyles',items:['Bold','Italic','Underline','Strike','Subscript','Superscript']},{name:'colors',items:['TextColor','BGColor']},{name:'paragraph',items:['NumberedList','BulletedList','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock','-','BidiLtr','BidiRtl']},{name:'basicstyles',items:['CopyFormatting','RemoveFormat']}],toolbar_Min:[{name:'basicstyles',items:['Bold','Italic','Underline','Strike']},{name:'colors',items:['TextColor','BGColor']},{name:'tools',items:['Maximize']},{name:'paragraph',items:['NumberedList','BulletedList','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock','-','BidiLtr','BidiRtl']},{name:'basicstyles',items:['CopyFormatting','RemoveFormat','Source']}],toolbar_Micro:[{name:'basicstyles',items:['Bold','Italic','Underline','Strike']},{name:'colors',items:['TextColor','BGColor']},{name:'paragraph',items:['NumberedList','BulletedList','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock']},{name:'basicstyles',items:['CopyFormatting','RemoveFormat']}],toolbar_Clipboard:[{name:'document',items:['Print']},{name:'basicstyles',items:['CopyFormatting','RemoveFormat']},{name:'clipboard',items:['Cut','Copy','Paste','PasteText','PasteFromWord','-','Undo','Redo']}],toolbar_PDF:[{name:'clipboard',items:['Cut','Copy','Paste','PasteText','PasteFromWord','-','Undo','Redo']},{name:'editing',items:['Find','Replace','-','SelectAll','-']},{name:'links',items:['Link','Unlink']},{name:'insert',items:['ckeditor-image-to-base','Table','HorizontalRule','PageBreak']},{name:'tools',items:['Maximize','ShowBlocks']},{name:'document',items:['Source']},'/',{name:'styles',items:['Styles','Format','Font','FontSize']},{name:'basicstyles',items:['Bold','Italic','Underline','Strike']},{name:'colors',items:['TextColor','BGColor']},{name:'paragraph',items:['JustifyLeft','JustifyCenter','JustifyRight']},{name:'basicstyles',items:['CopyFormatting','RemoveFormat']}]};'undefined'!=typeof customConfig&&(config=$.extend(config,customConfig)),config=Object.assign(config,element.data()),instance&&CKEDITOR.remove(instance),element.ckeditor(config);}}],[{key:'register',value:function register(container,params){if('undefined'==typeof container&&(container=$('body')),container.hasClass('js-editor')&&!container.prop('disabled'))return new App.Fields.Text.Editor(container,$.extend(params,container.data()));var instances=[];return container.find('.js-editor:not([disabled])').each(function(_,e){var element=$(e);instances.push(new App.Fields.Text.Editor(element,$.extend(params,element.data())));}),instances}}]),Editor}(),/**
		 * Destroy ckEditor
		 * @param {jQuery} element
		 */destroyEditor:function destroyEditor(element){'undefined'!=typeof CKEDITOR&&CKEDITOR.instances&&element.attr('id')in CKEDITOR.instances&&CKEDITOR.instances[element.attr('id')].destroy();}},Picklist:{/**
		 * Function which will convert ui of select boxes.
		 * @params parent - select element
		 * @params view - select2
		 * @params viewParams - select2 params
		 * @returns jquery object list which represents changed select elements
		 */changeSelectElementView:function changeSelectElementView(parent,view,viewParams){var _this=this;if('undefined'==typeof parent&&(parent=$('body')),'undefined'==typeof view){var select2Elements=$('select.select2',parent).toArray();return void select2Elements.forEach(function(elem){_this.changeSelectElementView($(elem),'select2',viewParams);})}//If view is select2, This will convert the ui of select boxes to select2 elements.
return 'select2'===view?App.Fields.Picklist.showSelect2ElementView(parent,viewParams):void app.errorLog(new Error('Unknown select type ['+view+']'))},/**
		 * Function which will show the select2 element for select boxes . This will use select2 library
		 */showSelect2ElementView:function showSelect2ElementView(selectElement,params){var _this2=this,self=this;if(selectElement=$(selectElement),'undefined'==typeof params&&(params={}),1<$(selectElement).length)return $(selectElement).each(function(index,element){_this2.showSelect2ElementView($(element).eq(0),params);});if('undefined'==typeof params.dropdownParent){var modalParent=$(selectElement).closest('.modal-body');modalParent.length&&(params.dropdownParent=modalParent);}var data=selectElement.data();null!=data&&(params=$.extend(data,params)),params.language={},params.theme='bootstrap';var width=$(selectElement).data('width');params.width='undefined'==typeof width?'100%':width,params.containerCssClass='form-control w-100';var containerCssClass=selectElement.data('containerCssClass');//formatSelectionTooBig param is not defined even it has the maximumSelectionLength,
//then we should send our custom function for formatSelectionTooBig
if('undefined'!=typeof containerCssClass&&(params.containerCssClass+=' '+containerCssClass),params.language.noResults=function(){return app.translate('JS_NO_RESULTS_FOUND')},'undefined'!=typeof params.customSortOptGroup&&params.customSortOptGroup&&($('optgroup',selectElement).each(function(){var optgroup=$(this),options=optgroup.children().toArray().sort(function(a,b){var aText=$(a).text(),bText=$(b).text();return aText<bText?1:-1});$.each(options,function(i,v){optgroup.prepend(v);});}),delete params.customSortOptGroup),'undefined'!=typeof params.maximumSelectionLength&&'undefined'==typeof params.formatSelectionTooBig){var limit=params.maximumSelectionLength,formatSelectionExceeds=function(){// return app.translate('JS_YOU_CAN_SELECT_ONLY') + ' ' + limit.maximum + ' ' + app.translate('JS_ITEMS');
};//custom function which will return the maximum selection size exceeds message.
params.language.maximumSelected=formatSelectionExceeds;}if('undefined'==typeof selectElement.attr('multiple')||params.placeholder?!params.placeholder&&(params.placeholder=app.translate('JS_SELECT_AN_OPTION')):params.placeholder=app.translate('JS_SELECT_SOME_OPTIONS'),'undefined'==typeof params.templateResult&&(params.templateResult=function(data,container){return data.element&&data.element.className&&$(container).addClass(data.element.className),'undefined'==typeof data.name?data.text:'optgroup'==data.type?'<strong>'+data.name+'</strong>':'<span>'+data.name+'</span>'}),'undefined'==typeof params.templateSelection&&(params.templateSelection=function(data,container){return data.element&&data.element.className&&$(container).addClass(data.element.className),''===data.text?data.name:data.text}),1===selectElement.data('ajaxSearch')){params.tags=!1,params.placeholder='',params.ajax={url:selectElement.data('ajaxUrl'),dataType:'json',delay:250,method:'POST',data:function(params){return {value:params.term,// search term
page:params.page}},processResults:function processResults(data){var items=new Array;return !0==data.success&&(selectElement.find('option').each(function(){var currentTarget=$(this);items.push({label:currentTarget.html(),value:currentTarget.val()});}),items=items.concat(data.result.items)),{results:items,pagination:{more:!1}}},cache:!1},params.escapeMarkup=function(markup){if('undefined'!==markup)return markup};var minimumInputLength=3;'undefined'!==selectElement.data('minimumInput')&&(minimumInputLength=selectElement.data('minimumInput')),params.minimumInputLength=minimumInputLength,params.templateResult=function(data){return 'undefined'==typeof data.name?data.text:'optgroup'==data.type?'<strong>'+data.name+'</strong>':'<span>'+data.name+'</span>'},params.templateSelection=function(data){return ''===data.text?data.name:data.text};}return selectElement.each(function(){var select=$(this);if('readonly'==select.attr('readonly')&&!select.attr('disabled')){var selectNew=select.clone().addClass('d-none');select.parent().append(selectNew),select.prop('disabled',!0);}var htmlBoolParams=select.data('select');'tags'===htmlBoolParams?(params.tags=!0,params.tokenSeparators=[',']):params[htmlBoolParams]=!0,select.select2(params).on('select2:open',function(e){select.data('unselecting')&&(select.removeData('unselecting'),setTimeout(function(){select.each(function(){$(this).select2('close');});},1));var element=$(e.currentTarget),instance=element.data('select2');instance.$dropdown.css('z-index',1000002);}).on('select2:unselect',function(){select.data('unselecting',!0);}),select.hasClass('js-select2-sortable')&&self.registerSelect2Sortable(select,params.sortableCb);}),selectElement},/**
		 * Register select2 drag and drop sorting
		 * @param {jQuery} select2 element
		 * @param {function} callback function
		 */registerSelect2Sortable:function registerSelect2Sortable(select){var cb=1<arguments.length&&arguments[1]!==void 0?arguments[1]:function(){},ul=select.next('.select2-container').first('ul.select2-selection__rendered');ul.sortable({items:'li:not(.select2-search__field)',tolerance:'pointer',stop:function stop(){$(ul.find('.select2-selection__choice').get().reverse()).each(function(){var optionTitle=$(this).attr('title');select.find('option').each(function(){$(this).text()===optionTitle&&select.prepend($(this));});}),cb(select);}});}},Tree:function(){function Tree(){var treeContainer=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$('.js-tree-container');classCallCheck(this,Tree),0<treeContainer.length&&(this.treeInstance=treeContainer,this.loadTree());}/**
		 * Get instance of Tree.
		 * @returns {Tree}
		 */return createClass(Tree,[{key:'loadTree',/**
		 * Load tree.
		 */value:function loadTree(){this.generateTree(JSON.parse(this.treeInstance.find('.js-tree-data').val()));}/**
		 * Generate tree.
		 * @param {object} treeData
		 */},{key:'generateTree',value:function generateTree(treeData){this.treeInstance.jstree({core:{data:treeData,multiple:!1,themes:{name:'proton',responsive:!0}}});}}],[{key:'getInstance',value:function getInstance(){var container=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$('.js-tree-container');return 'undefined'==typeof window.App.Fields.Tree.instance&&(window.App.Fields.Tree.instance=new window.App.Fields.Tree(container)),window.App.Fields.Tree.instance}}]),Tree}(),MultiTree:function(){function MultiTree(){var treeContainer=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$('.js-tree-container');classCallCheck(this,MultiTree),0<treeContainer.length&&(this.treeInstance=treeContainer,this.loadTree());}/**
		 * Get instance of Tree.
		 * @returns {Tree}
		 */return createClass(MultiTree,[{key:'loadTree',/**
		 * Load tree.
		 */value:function loadTree(){this.generateTree(JSON.parse(this.treeInstance.find('.js-tree-data').val()));}/**
		 * Generate tree.
		 * @param {object} treeData
		 */},{key:'generateTree',value:function generateTree(treeData){var plugins=[];plugins.push('category'),plugins.push('checkbox'),this.treeInstance.jstree({core:{data:treeData,multiple:!0,themes:{name:'proton',responsive:!0}},checkbox:{three_state:!1},plugins:plugins});}}],[{key:'getInstance',value:function getInstance(){var container=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$('.js-tree-container');return 'undefined'==typeof window.App.Fields.MultiTree.instance&&(window.App.Fields.MultiTree.instance=new window.App.Fields.MultiTree(container)),window.App.Fields.MultiTree.instance}}]),MultiTree}(),Integer:{/**
		 * Function returns the integer in user specified format.
		 * @param {number} value
		 * @param {int} numberOfDecimal
		 * @returns {string}
		 */formatToDisplay:function formatToDisplay(value){value||(value=0);var groupSeparator=app.getMainParams('currencyGroupingSeparator'),groupingPattern=app.getMainParams('currencyGroupingPattern');value=parseFloat(value).toFixed(1);var integer=value.toString().split('.')[0];return 3<integer.length&&('123,456,789'===groupingPattern?integer=integer.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,'$1'+groupSeparator):'123456,789'===groupingPattern?integer=integer.slice(0,-3)+groupSeparator+integer.slice(-3):'12,34,56,789'===groupingPattern&&(integer=integer.slice(0,-3).replace(/(\d)(?=(\d\d)+(?!\d))/g,'$1'+groupSeparator)+groupSeparator+integer.slice(-3))),integer}},Double:{/**
		 * Function returns the currency in user specified format.
		 * @param {number} value
		 * @param {boolean} numberOfDecimal
		 * @param {int} numberOfDecimal
		 * @returns {string}
		 */formatToDisplay:function formatToDisplay(value){var fixed=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],numberOfDecimal=2<arguments.length&&arguments[2]!==void 0?arguments[2]:app.getMainParams('numberOfCurrencyDecimal');value||(value=0),value=parseFloat(value),fixed&&(value=value.toFixed(numberOfDecimal));var a=value.toString().split('.'),integer=App.Fields.Integer.formatToDisplay(a[0]),decimal=a[1];if(numberOfDecimal){if(app.getMainParams('truncateTrailingZeros')&&decimal){for(var d='',i=0;i<decimal.length;i++)'0'!==decimal[decimal.length-i-1]&&(d=decimal[decimal.length-i-1]+d);decimal=d;}if(decimal)return integer+app.getMainParams('currencyDecimalSeparator')+decimal}return integer},/**
		 * Function to get value for db format.
		 * @param {string} value
		 * @returns {number}
		 */formatToDb:function formatToDb(value){return (null==value||''==value)&&(value=0),value=value.toString(),value=value.split(app.getMainParams('currencyGroupingSeparator')).join(''),value=value.replace(/\s/g,'').replace(app.getMainParams('currencyDecimalSeparator'),'.'),parseFloat(value)}},Utils:{positionPicker:function positionPicker(ev,picker){var offset=picker.element.offset(),$window=$(window);picker.opens=offset.left-$window.scrollLeft()+picker.container.outerWidth()>$window.width()?'left':'right',picker.move(),picker.drops=offset.top-$window.scrollTop()+picker.container.outerHeight()>$window.height()?'up':'down',picker.move();}}};
//# sourceMappingURL=Fields.min.js.map
