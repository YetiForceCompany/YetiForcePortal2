'use strict';

/**
 * Base detail view class
 *
 * @copyright YetiForce S.A.
 * @license YetiForce Public License 5.0 (licenses/LicenseEN.txt or yetiforce.com)
 * @author Mariusz Krzaczkowski <m.krzaczkowski@yetiforce.com>
 */'use strict';function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor);}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}window.Base_DetailView_Js=/*#__PURE__*/function(){function _class(){_classCallCheck(this,_class);}return _createClass(_class,[{key:"registerRecordEvents",value:/**
	 * Register record events
	 */function registerRecordEvents(){this.container.on("click",".js-delete-record",function(e){app.showConfirmModal({title:app.translate("JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE"),confirmedCallback:function confirmedCallback(){AppConnector.request({data:{},url:$(e.currentTarget).data("url")}).done(function(data){data.result&&(window.location.href="index.php?module="+app.getModuleName()+"&view=ListView");});}});});}/**
	 * Register widgets events
	 */},{key:"registerWidgetsEvents",value:function registerWidgetsEvents(){$(".js-widget-container").each(function(){var typeWidget=$(this).data("type"),className="Base_Widget_"+typeWidget+"_Js";if("undefined"!=typeof window[className])return new window[className]().registerEvents($(this))});}/**
	 * Register related list events
	 */},{key:"registerRelatedListEvents",value:function registerRelatedListEvents(){if("relatedList"===this.container.find("#mode").val()){var className=app.getModuleName()+"_RelatedListView_Js";if("undefined"!=typeof window[className])new window[className]().registerEvents(this.container.find(".js-form-container"));else {"undefined"!=typeof window.Base_RelatedListView_Js&&new window.Base_RelatedListView_Js().registerEvents(this.container.find(".js-form-container"));}}}/**
	 * Register keyboard shortcuts events
	 */},{key:"registerKeyboardShortcutsEvent",value:function registerKeyboardShortcutsEvent(){var _this=this;document.addEventListener("keydown",function(event){event.altKey&&"KeyE"===event.code&&_this.container.find(".js-edit-btn").trigger("click");});}/**
	 * Register detail view events.
	 */},{key:"registerEvents",value:function registerEvents(){this.container=$("#page"),this.registerRecordEvents(),this.registerWidgetsEvents(),this.registerRelatedListEvents(),this.registerKeyboardShortcutsEvent();}}]),_class}();
//# sourceMappingURL=DetailView.min.js.map
