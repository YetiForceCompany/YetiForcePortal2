{"version":3,"file":"Widgets.min.js","sources":["Widgets.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n\nwindow.Base_Dashboard_MiniList_Js = class {\n\tregisterEvents(container) {\n\t\tcontainer.find('.js-row').on('click', function () {\n\t\t\twindow.location.href = $(this).data('url');\n\t\t});\n\t}\n};\n\nwindow.Base_Dashboard_ChartFilter_Js = class {\n\tconstructor() {\n\t\tthis.container = '';\n\t\tthis.widgetData = '';\n\t\tthis.globalChartFunctions = {\n\t\t\t/**\n\t\t\t * Functions for x or y axes scales xAxes:[{here}]\n\t\t\t */\n\t\t\tscales: {\n\t\t\t\tformatAxesLabels: function formatAxesLabels(value, index, values) {\n\t\t\t\t\tif (String(value).length > 0 && !isNaN(Number(value))) {\n\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * Functions for datalabels\n\t\t\t */\n\t\t\tdatalabels: {\n\t\t\t\tdisplay(context) {\n\t\t\t\t\tconst meta = context.chart.getDatasetMeta(context.datasetIndex);\n\t\t\t\t\treturn meta.hidden !== true;\n\t\t\t\t},\n\t\t\t\tformatter: function datalabelsFormatter(value, context) {\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof this.widgetData !== 'undefined' &&\n\t\t\t\t\t\ttypeof this.widgetData.valueType !== 'undefined' &&\n\t\t\t\t\t\tthis.widgetData.valueType === 'count'\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(value, 0);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof context.chart.data.datasets[context.datasetIndex].dataFormatted !== 'undefined' &&\n\t\t\t\t\t\ttypeof context.chart.data.datasets[context.datasetIndex].dataFormatted[context.dataIndex] !== 'undefined'\n\t\t\t\t\t) {\n\t\t\t\t\t\t// data presented in different format usually exists in alternative dataFormatted array\n\t\t\t\t\t\treturn context.chart.data.datasets[context.datasetIndex].dataFormatted[context.dataIndex];\n\t\t\t\t\t}\n\t\t\t\t\tif (String(value).length > 0 && isNaN(Number(value))) {\n\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * Tooltips functions\n\t\t\t */\n\t\t\ttooltips: {\n\t\t\t\tlabel: function tooltipLabelCallback(tooltipItem, data) {\n\t\t\t\t\t// get already formatted data if exists\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof data.datasets[tooltipItem.datasetIndex].dataFormatted !== 'undefined' &&\n\t\t\t\t\t\tdata.datasets[tooltipItem.datasetIndex].dataFormatted[tooltipItem.index] !== 'undefined'\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn data.datasets[tooltipItem.datasetIndex].dataFormatted[tooltipItem.index];\n\t\t\t\t\t}\n\t\t\t\t\t// if there is no formatted data so try to format it\n\t\t\t\t\tif (\n\t\t\t\t\t\tString(data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]).length > 0 &&\n\t\t\t\t\t\t!isNaN(Number(data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]))\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof this.widgetData !== 'undefined' &&\n\t\t\t\t\t\t\ttypeof this.widgetData.valueType !== 'undefined' &&\n\t\t\t\t\t\t\tthis.widgetData.valueType === 'count'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(\n\t\t\t\t\t\t\t\tdata.datasets[tooltipItem.datasetIndex].data[tooltipItem.index],\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]);\n\t\t\t\t\t}\n\t\t\t\t\t// return raw data at idex\n\t\t\t\t\treturn data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n\t\t\t\t},\n\t\t\t\ttitle: function tooltipTitleCallback(tooltipItems, data) {\n\t\t\t\t\tconst tooltipItem = tooltipItems[0];\n\t\t\t\t\t// get already formatted title if exists\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof data.datasets[tooltipItem.datasetIndex].titlesFormatted !== 'undefined' &&\n\t\t\t\t\t\tdata.datasets[tooltipItem.datasetIndex].titlesFormatted[tooltipItem.index] !== 'undefined'\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn data.datasets[tooltipItem.datasetIndex].titlesFormatted[tooltipItem.index];\n\t\t\t\t\t}\n\t\t\t\t\t// if there is no formatted title so try to format it\n\t\t\t\t\tif (String(data.labels[tooltipItem.index]).length > 0 && !isNaN(Number(data.labels[tooltipItem.index]))) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof this.widgetData !== 'undefined' &&\n\t\t\t\t\t\t\ttypeof this.widgetData.valueType !== 'undefined' &&\n\t\t\t\t\t\t\tthis.widgetData.valueType === 'count'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(data.labels[tooltipItem.index], 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(data.labels[tooltipItem.index]);\n\t\t\t\t\t}\n\t\t\t\t\t// return label at index\n\t\t\t\t\treturn data.labels[tooltipItem.index];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tlegend: {\n\t\t\t\tonClick(e, legendItem) {\n\t\t\t\t\tlet type = this.chartInstance.config.type;\n\t\t\t\t\tif (typeof Chart.defaults[type] !== 'undefined') {\n\t\t\t\t\t\treturn Chart.defaults[type].legend.onClick.apply(this.chartInstance, [e, legendItem]);\n\t\t\t\t\t}\n\t\t\t\t\treturn Chart.defaults.global.legend.onClick.apply(this.chartInstance, [e, legendItem]);\n\t\t\t\t},\n\t\t\t\tgenerateLabels(chart) {\n\t\t\t\t\tlet type = chart.config.type;\n\t\t\t\t\tlet labels;\n\t\t\t\t\tif (typeof Chart.defaults[type] !== 'undefined') {\n\t\t\t\t\t\tlabels = Chart.defaults[type].legend.labels.generateLabels(chart);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlabels = Chart.defaults.global.legend.labels.generateLabels(chart);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.areColorsFromDividingField() || this.isMultiFilter()) {\n\t\t\t\t\t\tchart.config.options.legend.labels.boxWidth = 12;\n\t\t\t\t\t\tlabels.forEach((label, index) => {\n\t\t\t\t\t\t\tlabel.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\t\t\tlabel.strokeStyle = 'rgba(0,0,0,0.15)';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn labels;\n\t\t\t\t},\n\t\t\t\tdisplay() {\n\t\t\t\t\tif (this.isMultiFilter() || this.areColorsFromDividingField()) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * plugins\n\t\t\t */\n\t\t\tplugins: {\n\t\t\t\t/**\n\t\t\t\t * If datalabels doesn't fit - hide them individually\n\t\t\t\t * @param  {Chart} chart chart instance\n\t\t\t\t * @return {undefined}\n\t\t\t\t */\n\t\t\t\thideVerticalBarDatalabelsIfNeeded: function (chart) {\n\t\t\t\t\tlet getDatasetsMeta = function (chart) {\n\t\t\t\t\t\tconst datasets = [];\n\t\t\t\t\t\tconst data = chart.data;\n\t\t\t\t\t\tif (typeof data !== 'undefined' && typeof data.datasets !== 'undefined' && Array.isArray(data.datasets)) {\n\t\t\t\t\t\t\tfor (let i = 0, len = data.datasets.length; i < len; i++) {\n\t\t\t\t\t\t\t\tconst meta = chart.getDatasetMeta(i);\n\t\t\t\t\t\t\t\tif (typeof meta.data !== 'undefined' && Array.isArray(meta.data)) {\n\t\t\t\t\t\t\t\t\tdatasets.push(meta);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn datasets;\n\t\t\t\t\t};\n\t\t\t\t\tlet datasetsMeta = getDatasetsMeta(chart);\n\t\t\t\t\tlet datasets = chart.data.datasets;\n\t\t\t\t\tfor (let i = 0, len = datasets.length; i < len; i++) {\n\t\t\t\t\t\tconst dataset = datasets[i];\n\t\t\t\t\t\tconst meta = datasetsMeta[i];\n\t\t\t\t\t\tif (meta.hidden) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst metaData = meta.data;\n\t\t\t\t\t\tif (typeof dataset._models === 'undefined') {\n\t\t\t\t\t\t\tdataset._models = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof dataset.datalabels === 'undefined') {\n\t\t\t\t\t\t\tdataset.datalabels = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof dataset.datalabels.display === 'undefined') {\n\t\t\t\t\t\t\tdataset.datalabels.display = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let iItem = 0, lenItem = metaData.length; iItem < lenItem; iItem++) {\n\t\t\t\t\t\t\tconst dataItem = metaData[iItem];\n\t\t\t\t\t\t\tif (typeof dataItem.$datalabels !== 'undefined' && typeof dataItem.$datalabels._model !== 'undefined') {\n\t\t\t\t\t\t\t\tlet model = dataItem.$datalabels._model;\n\t\t\t\t\t\t\t\tif (model !== null && typeof model !== 'undefined') {\n\t\t\t\t\t\t\t\t\tdataset._models[iItem] = model;\n\t\t\t\t\t\t\t\t} else if (dataset._models[iItem] !== null && typeof dataset._models[iItem] !== 'undefined') {\n\t\t\t\t\t\t\t\t\tmodel = dataset._models[iItem];\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst labelWidth = model.size.width + model.padding.width + model.borderWidth * 2;\n\t\t\t\t\t\t\t\tconst labelHeight = model.size.height + model.padding.height + model.borderWidth * 2;\n\t\t\t\t\t\t\t\tconst barHeight = dataItem.height();\n\t\t\t\t\t\t\t\tlet threshold = 10;\n\t\t\t\t\t\t\t\tif (typeof chart.config.options.verticalBarLabelsThreshold !== 'undefined') {\n\t\t\t\t\t\t\t\t\tthreshold = chart.config.options.verticalBarLabelsThreshold;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (dataItem._view.width + threshold < labelWidth || barHeight + threshold < labelHeight) {\n\t\t\t\t\t\t\t\t\tdataItem.$datalabels._model.positioner = () => {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdataItem.$datalabels._model = model;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t/**\n\t\t\t\t * If datalabels doesn't fit - hide them individually\n\t\t\t\t * @param  {Chart} chart  Chart instance\n\t\t\t\t * @return {undefined}\n\t\t\t\t */\n\t\t\t\thideHorizontalBarDatalabelsIfNeeded: function hideHorizontalBarDatalabelsIfNeeded(chart) {\n\t\t\t\t\tlet getDatasetsMeta = function (chart) {\n\t\t\t\t\t\tconst datasets = [];\n\t\t\t\t\t\tconst data = chart.data;\n\t\t\t\t\t\tif (typeof data !== 'undefined' && typeof data.datasets !== 'undefined' && Array.isArray(data.datasets)) {\n\t\t\t\t\t\t\tfor (let i = 0, len = data.datasets.length; i < len; i++) {\n\t\t\t\t\t\t\t\tconst meta = chart.getDatasetMeta(i);\n\t\t\t\t\t\t\t\tif (typeof meta.data !== 'undefined' && Array.isArray(meta.data)) {\n\t\t\t\t\t\t\t\t\tdatasets.push(meta);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn datasets;\n\t\t\t\t\t};\n\t\t\t\t\tlet datasetsMeta = getDatasetsMeta(chart);\n\t\t\t\t\tlet datasets = chart.data.datasets;\n\t\t\t\t\tfor (let i = 0, len = datasets.length; i < len; i++) {\n\t\t\t\t\t\tconst dataset = datasets[i];\n\t\t\t\t\t\tconst meta = datasetsMeta[i];\n\t\t\t\t\t\tif (meta.hidden) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst metaData = meta.data;\n\t\t\t\t\t\tif (typeof dataset._models === 'undefined') {\n\t\t\t\t\t\t\tdataset._models = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof dataset.datalabels === 'undefined') {\n\t\t\t\t\t\t\tdataset.datalabels = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof dataset.datalabels.display === 'undefined') {\n\t\t\t\t\t\t\tdataset.datalabels.display = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let iItem = 0, lenItem = metaData.length; iItem < lenItem; iItem++) {\n\t\t\t\t\t\t\tconst dataItem = metaData[iItem];\n\t\t\t\t\t\t\tif (typeof dataItem.$datalabels !== 'undefined' && typeof dataItem.$datalabels._model !== 'undefined') {\n\t\t\t\t\t\t\t\tlet model = dataItem.$datalabels._model;\n\t\t\t\t\t\t\t\tif (model !== null && typeof model !== 'undefined') {\n\t\t\t\t\t\t\t\t\tdataset._models[iItem] = model;\n\t\t\t\t\t\t\t\t} else if (dataset._models[iItem] !== null && typeof dataset._models[iItem] !== 'undefined') {\n\t\t\t\t\t\t\t\t\tmodel = dataset._models[iItem];\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst labelWidth = model.size.width + model.padding.width + model.borderWidth * 2;\n\t\t\t\t\t\t\t\tconst labelHeight = model.size.height + model.padding.height + model.borderWidth * 2;\n\t\t\t\t\t\t\t\tconst barWidth = dataItem.width;\n\t\t\t\t\t\t\t\tlet threshold = 10;\n\t\t\t\t\t\t\t\tif (typeof chart.config.options.horizontalBarLabelsThreshold !== 'undefined') {\n\t\t\t\t\t\t\t\t\tthreshold = chart.config.options.horizontalBarLabelsThreshold;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (dataItem._view.height + threshold < labelHeight || barWidth + threshold < labelWidth) {\n\t\t\t\t\t\t\t\t\tdataItem.$datalabels._model.positioner = () => {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdataItem.$datalabels._model = model;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t/**\n\t\t\t\t * Fix to long axis labels\n\t\t\t\t * @param  {Chart}  chart    Chart instance\n\t\t\t\t * @return {Boolean}       [description]\n\t\t\t\t */\n\t\t\t\tfixXAxisLabels: function fixXAxisLabels(chart) {\n\t\t\t\t\tlet shortenXTicks = function shortenXTicks(data, options) {\n\t\t\t\t\t\tif (typeof options.scales === 'undefined') {\n\t\t\t\t\t\t\toptions.scales = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof options.scales.xAxes === 'undefined') {\n\t\t\t\t\t\t\toptions.scales.xAxes = [{}];\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions.scales.xAxes.forEach((axis) => {\n\t\t\t\t\t\t\tif (typeof axis.ticks === 'undefined') {\n\t\t\t\t\t\t\t\taxis.ticks = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taxis.ticks.callback = function xAxisTickCallback(value, index, values) {\n\t\t\t\t\t\t\t\tif (value.length > 13) {\n\t\t\t\t\t\t\t\t\treturn value.substr(0, 10) + '...';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn options;\n\t\t\t\t\t};\n\t\t\t\t\tlet rotateXLabels90 = function rotateXLabels90(data, options) {\n\t\t\t\t\t\tif (typeof options.scales === 'undefined') {\n\t\t\t\t\t\t\toptions.scales = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof options.scales.xAxes === 'undefined') {\n\t\t\t\t\t\t\toptions.scales.xAxes = [{}];\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions.scales.xAxes.forEach((axis) => {\n\t\t\t\t\t\t\tif (typeof axis.ticks === 'undefined') {\n\t\t\t\t\t\t\t\taxis.ticks = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taxis.ticks.minRotation = 90;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn options;\n\t\t\t\t\t};\n\n\t\t\t\t\tchart.data.datasets.forEach((dataset, index) => {\n\t\t\t\t\t\tif (dataset._updated) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let prop in dataset._meta) {\n\t\t\t\t\t\t\tif (dataset._meta.hasOwnProperty(prop)) {\n\t\t\t\t\t\t\t\tfor (let i = 0, len = dataset._meta[prop].data.length; i < len; i++) {\n\t\t\t\t\t\t\t\t\tconst metaDataItem = dataset._meta[prop].data[i];\n\t\t\t\t\t\t\t\t\tconst label = metaDataItem._xScale.ticks[i];\n\t\t\t\t\t\t\t\t\tconst ctx = metaDataItem._xScale.ctx;\n\t\t\t\t\t\t\t\t\tlet categoryWidth = metaDataItem._xScale.width / dataset._meta[prop].data.length;\n\t\t\t\t\t\t\t\t\tif (typeof metaDataItem._xScale.options.categoryPercentage !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\t// if it is bar chart there is category percentage option that we should use\n\t\t\t\t\t\t\t\t\t\tcategoryWidth *= metaDataItem._xScale.options.categoryPercentage;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconst fullWidth = ctx.measureText(label).width;\n\t\t\t\t\t\t\t\t\tif (categoryWidth < fullWidth) {\n\t\t\t\t\t\t\t\t\t\tconst shortened = label.substr(0, 10) + '...';\n\t\t\t\t\t\t\t\t\t\tconst shortenedWidth = ctx.measureText(shortened).width;\n\t\t\t\t\t\t\t\t\t\tif (categoryWidth < shortenedWidth) {\n\t\t\t\t\t\t\t\t\t\t\tchart.options = rotateXLabels90(chart.data, chart.options);\n\t\t\t\t\t\t\t\t\t\t\tchart.options = shortenXTicks(chart.data, chart.options);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tchart.options = shortenXTicks(chart.data, chart.options);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (!dataset._updated) {\n\t\t\t\t\t\t\t\t\t\t\tdataset._updated = true;\n\t\t\t\t\t\t\t\t\t\t\tchart.update();\n\t\t\t\t\t\t\t\t\t\t\t// recalculate positions for smooth animation (for all datasets)\n\t\t\t\t\t\t\t\t\t\t\tchart.data.datasets.forEach((dataset, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\tdataset._meta[prop].data.forEach((metaDataItem, dataIndex) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.x = metaDataItem._xScale.getPixelForValue(index, dataIndex);\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.base = metaDataItem._xScale.getBasePixel();\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.width =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(metaDataItem._xScale.width / dataset._meta[prop].data.length) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._xScale.options.categoryPercentage *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._xScale.options.barPercentage;\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdataset._updated = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t/**\n\t\t\t\t * Fix too long axis labels  - try to shorten and rotate\n\t\t\t\t * @param  {Chart}  chart    Chart instance\n\t\t\t\t * @return {Boolean}\n\t\t\t\t */\n\t\t\t\tfixYAxisLabels: function fixYAxisLabels(chart) {\n\t\t\t\t\tlet shortenYTicks = function shortenYTicks(data, options) {\n\t\t\t\t\t\tif (typeof options.scales === 'undefined') {\n\t\t\t\t\t\t\toptions.scales = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof options.scales.yAxes === 'undefined') {\n\t\t\t\t\t\t\toptions.scales.yAxes = [{}];\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions.scales.yAxes.forEach((axis) => {\n\t\t\t\t\t\t\tif (typeof axis.ticks === 'undefined') {\n\t\t\t\t\t\t\t\taxis.ticks = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taxis.ticks.callback = function yAxisTickCallback(value, index, values) {\n\t\t\t\t\t\t\t\tif (value.length > 13) {\n\t\t\t\t\t\t\t\t\treturn value.substr(0, 10) + '...';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn options;\n\t\t\t\t\t};\n\t\t\t\t\tchart.data.datasets.forEach((dataset, index) => {\n\t\t\t\t\t\tif (dataset._updated) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let prop in dataset._meta) {\n\t\t\t\t\t\t\tif (dataset._meta.hasOwnProperty(prop)) {\n\t\t\t\t\t\t\t\t// we have meta\n\t\t\t\t\t\t\t\tfor (let i = 0, len = dataset._meta[prop].data.length; i < len; i++) {\n\t\t\t\t\t\t\t\t\tconst metaDataItem = dataset._meta[prop].data[i];\n\t\t\t\t\t\t\t\t\tconst label = metaDataItem._view.label;\n\t\t\t\t\t\t\t\t\tif (label.length > 13) {\n\t\t\t\t\t\t\t\t\t\tchart.options = shortenYTicks(chart.data, chart.options);\n\t\t\t\t\t\t\t\t\t\tif (!dataset._updated) {\n\t\t\t\t\t\t\t\t\t\t\tdataset._updated = true;\n\t\t\t\t\t\t\t\t\t\t\tchart.update();\n\t\t\t\t\t\t\t\t\t\t\t// recalculate positions for smooth animation (for all datasets)\n\t\t\t\t\t\t\t\t\t\t\tchart.data.datasets.forEach((dataset, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\tdataset._meta[prop].data.forEach((metaDataItem, dataIndex) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (typeof metaDataItem._xScale !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.x = metaDataItem._xScale.getPixelForValue(index, dataIndex);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.base = metaDataItem._xScale.getBasePixel();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.width =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(metaDataItem._xScale.width / dataset._meta[prop].data.length) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._xScale.options.categoryPercentage *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._xScale.options.barPercentage;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdataset._updated = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\tsetChartContainer(container) {\n\t\tthis.container = container;\n\t}\n\tgetChartContainer() {\n\t\treturn this.container;\n\t}\n\tgetWidgetData() {\n\t\tif (typeof this.widgetData !== 'undefined' && this.widgetData !== '') {\n\t\t\treturn this.widgetData;\n\t\t}\n\t\tlet widgetDataEl = this.getChartContainer().find('[name=\"widgetData\"]');\n\t\tif (widgetDataEl.length) {\n\t\t\treturn (this.widgetData = JSON.parse(widgetDataEl.val()));\n\t\t}\n\t\treturn false;\n\t}\n\tgetGlobalDefaultChartsOptions(chartSubType) {\n\t\tconst options = {\n\t\t\tbar: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'center',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.hideVerticalBarDatalabelsIfNeeded'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tbarStacked: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'center',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.hideVerticalBarDatalabelsIfNeeded'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\thorizontalBar: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'center',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixYAxisLabels'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.hideHorizontalBarDatalabelsIfNeeded'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\thorizontalBarStacked: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'center',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixYAxisLabels'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.hideHorizontalBarDatalabelsIfNeeded'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tline: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t\t\tlabelOffset: 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tfill: false,\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\t\talign: 'bottom',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tlineStacked: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t\t\tlabelOffset: 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tfill: false,\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\t\talign: 'bottom',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tlinePlain: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t\t\tlabelOffset: 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tlineTension: 0,\n\t\t\t\t\tfill: false,\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\t\talign: 'bottom',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tlinePlainStacked: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t\t\tlabelOffset: 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tfill: false,\n\t\t\t\t\tlineTension: 0,\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\t\talign: 'bottom',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tpie: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabels: {\n\t\t\t\t\t\t\tgenerateLabels: 'function:legend.generateLabels'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcutoutPercentage: 0,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\tbottom: 12\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {}\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\tanchor: 'end',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: []\n\t\t\t},\n\t\t\tdoughnut: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tonClick: 'function:legend.onClick',\n\t\t\t\t\t\tlabels: {\n\t\t\t\t\t\t\tgenerateLabels: 'function:legend.generateLabels'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcutoutPercentage: 50,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\tbottom: 12\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {}\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\tanchor: 'end',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: []\n\t\t\t},\n\t\t\tfunnel: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tsort: 'desc',\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [\n\t\t\t\t\t{\n\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixYAxisLabels'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t};\n\t\tif (typeof options[chartSubType] !== 'undefined') {\n\t\t\treturn options[chartSubType];\n\t\t}\n\t\t// if divided and standard chart types are equal\n\t\tconst notStackedChartSubType = this.removeStackedFromName(chartSubType);\n\t\tif (typeof options[notStackedChartSubType] !== 'undefined') {\n\t\t\treturn options[notStackedChartSubType];\n\t\t}\n\t\tapp.errorLog(new Error(chartSubType + ' chart does not exists!'));\n\t}\n\tgetDefaultDatasetOptions(chartSubType) {\n\t\treturn this.getGlobalDefaultChartsOptions(chartSubType).dataset;\n\t}\n\tmergeOptionsArray(to, fromArray) {\n\t\tif (typeof to !== 'undefined') {\n\t\t\treturn to;\n\t\t}\n\t\tto = [];\n\t\tlet result = fromArray\n\t\t\t.map((from, index) => {\n\t\t\t\tif (Array.isArray(from) && !to.hasOwnProperty(key)) {\n\t\t\t\t\treturn this.mergeOptionsArray(to[index], from);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\ttypeof from === 'object' &&\n\t\t\t\t\tfrom !== null &&\n\t\t\t\t\t(typeof to[index] === 'undefined' || (typeof to[index] === 'object' && to[index] !== null))\n\t\t\t\t) {\n\t\t\t\t\treturn this.mergeOptionsObject(to[index], from);\n\t\t\t\t}\n\t\t\t\treturn to[index];\n\t\t\t})\n\t\t\t.filter((item) => typeof item !== 'undefined');\n\t\treturn result;\n\t}\n\tmergeOptionsObject(to, from) {\n\t\tif (typeof to === 'undefined') {\n\t\t\tto = {};\n\t\t}\n\t\tfor (let key in from) {\n\t\t\tif (from.hasOwnProperty(key)) {\n\t\t\t\tif (Array.isArray(from[key])) {\n\t\t\t\t\tif (!to.hasOwnProperty(key)) {\n\t\t\t\t\t\tto[key] = this.mergeOptionsArray(undefined, from[key]);\n\t\t\t\t\t}\n\t\t\t\t} else if (\n\t\t\t\t\ttypeof from[key] === 'object' &&\n\t\t\t\t\tfrom[key] !== null &&\n\t\t\t\t\t(!to.hasOwnProperty(key) || (typeof to[key] === 'object' && to[key] !== null && !Array.isArray(to[key])))\n\t\t\t\t) {\n\t\t\t\t\t// if property is an object - merge recursively\n\t\t\t\t\tto[key] = this.mergeOptionsObject(to[key], from[key]);\n\t\t\t\t} else {\n\t\t\t\t\tif (!to.hasOwnProperty(key)) {\n\t\t\t\t\t\tto[key] = from[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn to;\n\t}\n\tmergeOptions(to = {}, ...fromArray) {\n\t\tfor (let i = 0, len = fromArray.length; i < len; i++) {\n\t\t\tif (typeof fromArray[i] !== 'object' || Array.isArray(fromArray[i])) {\n\t\t\t\tapp.errorLog(\n\t\t\t\t\tnew Error(\n\t\t\t\t\t\t'Options argument should be an object! Chart subType: ' +\n\t\t\t\t\t\t\tthis.getSubType() +\n\t\t\t\t\t\t\t' [' +\n\t\t\t\t\t\t\tfromArray[i].toString() +\n\t\t\t\t\t\t\t']'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tto = this.mergeOptionsObject(to, fromArray[i]);\n\t\t\t}\n\t\t}\n\t\treturn to;\n\t}\n\tloadDatasetOptions(chartData) {\n\t\treturn chartData.datasets.map((dataset, index) => {\n\t\t\tlet result = this.mergeOptions(dataset, {}, this.getDefaultDatasetOptions(this.getSubType()));\n\t\t\treturn result;\n\t\t});\n\t}\n\n\tformatTooltipLabels(data) {\n\t\tdata.datasets.forEach((dataset) => {\n\t\t\tif (typeof dataset.dataFormatted === 'undefined') {\n\t\t\t\tdataset.dataFormatted = [];\n\t\t\t\tdataset.data.forEach((dataItem, index) => {\n\t\t\t\t\tlet dataFormatted = dataItem;\n\t\t\t\t\tif (String(dataItem).length > 0 && !isNaN(Number(dataItem))) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof this.widgetData !== 'undefined' &&\n\t\t\t\t\t\t\ttypeof this.widgetData.valueType !== 'undefined' &&\n\t\t\t\t\t\t\tthis.widgetData.valueType === 'count'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdataFormatted = App.Fields.Double.formatToDisplay(dataItem, 0);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdataFormatted = App.Fields.Double.formatToDisplay(dataItem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataset.dataFormatted.push(dataFormatted);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\tformatTooltipTitles(data) {\n\t\tdata.datasets.forEach((dataset) => {\n\t\t\tif (typeof dataset.titlesFormatted === 'undefined') {\n\t\t\t\tdataset.titlesFormatted = [];\n\t\t\t\tdataset.data.forEach((dataItem, index) => {\n\t\t\t\t\tlet defaultLabel = data.labels[index];\n\t\t\t\t\tif (String(defaultLabel).length > 0 && !isNaN(Number(defaultLabel))) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof this.widgetData !== 'undefined' &&\n\t\t\t\t\t\t\ttypeof this.widgetData.valueType !== 'undefined' &&\n\t\t\t\t\t\t\tthis.widgetData.valueType === 'count'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdefaultLabel = App.Fields.Double.formatToDisplay(defaultLabel, 0);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdefaultLabel = App.Fields.Double.formatToDisplay(defaultLabel);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof dataset.label !== 'undefined') {\n\t\t\t\t\t\tlet label = dataset.label;\n\t\t\t\t\t\tif (String(label).length > 0 && !isNaN(Number(label))) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\ttypeof this.widgetData !== 'undefined' &&\n\t\t\t\t\t\t\t\ttypeof this.widgetData.valueType !== 'undefined' &&\n\t\t\t\t\t\t\t\tthis.widgetData.valueType === 'count'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlabel = App.Fields.Double.formatToDisplay(label, 0);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlabel = App.Fields.Double.formatToDisplay(label);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdefaultLabel += ' (' + label + ')';\n\t\t\t\t\t}\n\t\t\t\t\tdataset.titlesFormatted.push(defaultLabel);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\tgetBasicOptions() {\n\t\treturn {\n\t\t\tresponsive: true,\n\t\t\tmaintainAspectRatio: false\n\t\t};\n\t}\n\tgetDefaultBasicOptions(chartSubType) {\n\t\treturn this.getGlobalDefaultChartsOptions(chartSubType).basic;\n\t}\n\tloadBasicOptions(chartData) {\n\t\tthis.formatTooltipTitles(chartData);\n\t\tthis.formatTooltipLabels(chartData);\n\t\treturn this.mergeOptions(this.getBasicOptions(), this.getDefaultBasicOptions(this.getSubType()));\n\t}\n\tgetSubType() {\n\t\treturn this.getType();\n\t}\n\tisReplacementString(str) {\n\t\tif (typeof str !== 'string') {\n\t\t\treturn false;\n\t\t}\n\t\treturn str.substr(0, 9) === 'function:';\n\t}\n\tisMultiFilter() {\n\t\tif (typeof this.filterIds !== 'undefined') {\n\t\t\treturn this.filterIds.length > 1;\n\t\t}\n\t\treturn false;\n\t}\n\tareColorsFromDividingField() {\n\t\treturn !!Number(this.getChartContainer().find('[name=\"colorsFromDividingField\"]').val());\n\t}\n\n\tgetFunctionFromReplacementString(replacementStr) {\n\t\tlet assignResult = false;\n\t\tif (replacementStr.substr(replacementStr.length - 2) === '()') {\n\t\t\treplacementStr = replacementStr.substr(0, replacementStr.length - 2);\n\t\t\tassignResult = true;\n\t\t}\n\t\tconst splitted = replacementStr.split(':');\n\t\tif (splitted.length !== 2) {\n\t\t\tapp.errorLog(\n\t\t\t\tnew Error(\n\t\t\t\t\t\"Function replacement string should look like 'function:path.to.fn' not like '\" + replacementStr + \"'\"\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tlet finalFunction = splitted[1].split('.').reduce((previous, current) => {\n\t\t\treturn previous[current];\n\t\t}, this.globalChartFunctions);\n\t\tif (typeof finalFunction !== 'function') {\n\t\t\tapp.errorLog(new Error('Global function does not exists: ' + splitted[1]));\n\t\t}\n\t\tif (!assignResult) {\n\t\t\treturn finalFunction.bind(this);\n\t\t}\n\t\treturn finalFunction.call(this);\n\t}\n\tparseOptionsArray(arr, original, afterInit = false) {\n\t\treturn arr.map((item, index) => {\n\t\t\tif (this.isReplacementString(item)) {\n\t\t\t\treturn this.getFunctionFromReplacementString(value);\n\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\treturn this.parseOptionsArray(item, original, afterInit);\n\t\t\t} else if (typeof item === 'object' && item !== null) {\n\t\t\t\treturn this.parseOptionsObject(item, original, afterInit);\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t}\n\tparseOptionsObject(options, original, afterInit = false) {\n\t\tlet result = {};\n\t\tfor (let propertyName in options) {\n\t\t\tlet value = options[propertyName];\n\t\t\tif (afterInit) {\n\t\t\t\tif (propertyName.substr(0, 1) === '_') {\n\t\t\t\t\tresult[propertyName] = value;\n\t\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\t\tresult[propertyName] = this.parseOptionsArray(value, original, afterInit);\n\t\t\t\t} else if (typeof value === 'object' && value !== null) {\n\t\t\t\t\tresult[propertyName] = this.parseOptionsObject(value, original, afterInit);\n\t\t\t\t} else {\n\t\t\t\t\tresult[propertyName] = value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (propertyName.substr(0, 1) === '_') {\n\t\t\t\t\tresult[propertyName] = value;\n\t\t\t\t} else if (this.isReplacementString(value)) {\n\t\t\t\t\tresult[propertyName] = this.getFunctionFromReplacementString(value, afterInit, original);\n\t\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\t\tresult[propertyName] = this.parseOptionsArray(value, original, afterInit);\n\t\t\t\t} else if (typeof value === 'object' && value !== null) {\n\t\t\t\t\tresult[propertyName] = this.parseOptionsObject(value, original, afterInit);\n\t\t\t\t} else {\n\t\t\t\t\tresult[propertyName] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\tparseOptions(options, original, afterInit = false) {\n\t\tif (Array.isArray(options)) {\n\t\t\treturn this.parseOptionsArray(options, original, afterInit);\n\t\t} else if (typeof options === 'object' && options !== null) {\n\t\t\treturn this.parseOptionsObject(options, original, afterInit);\n\t\t}\n\t\tapp.errorLog(new Error('Unknown options format [' + typeof options + '] - should be object.'));\n\t}\n\tloadPlugins(chartData) {\n\t\treturn this.mergeOptionsArray(this.getPlugins(chartData), this.getDefaultPlugins(this.getSubType(), chartData));\n\t}\n\t/**\n\t * Load and display chart into the view\n\t *\n\t * @return {Chart} chartInstance\n\t */\n\tloadChart() {\n\t\tif (typeof this.getChartContainer() === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\t\tlet data = this.getWidgetData(); // load widget data for label formatters\n\t\tconst type = this.getType();\n\n\t\tdata.datasets = this.loadDatasetOptions(data);\n\t\tconst options = this.parseOptions(this.loadBasicOptions(data));\n\t\tconst plugins = [];\n\t\tdata = this.parseOptions(data);\n\t\tconst chart = (this.chartInstance = new Chart(this.getChartContainer().find('canvas').get(0).getContext('2d'), {\n\t\t\ttype,\n\t\t\tdata,\n\t\t\toptions,\n\t\t\tplugins\n\t\t}));\n\t\t// parse chart one more time after it was mounted - some options need to have chart loaded\n\t\tdata.datasets = data.datasets.map((dataset, index) => {\n\t\t\tdataset.datasetIndex = index;\n\t\t\treturn this.parseOptions(dataset, dataset, true);\n\t\t});\n\t\treturn chart;\n\t}\n\treadData() {\n\t\tlet container = this.getChartContainer();\n\t\tthis.filterIds = JSON.parse(container.find('[name=\"filterIds\"]').val());\n\t}\n\tregisterEvents(container) {\n\t\tlet type = container.find('[name=\"typeChart\"]').val();\n\t\tconst stacked = !!Number(container.find('[name=\"stacked\"]').val());\n\t\tif (stacked) {\n\t\t\ttype += 'Stacked';\n\t\t}\n\t\tvar classname = 'Base_Dashboard_ChartFilter_' + type + '_Js';\n\t\tif (typeof window[classname] != 'undefined') {\n\t\t\tlet instance = new window[classname]();\n\t\t\tinstance.setChartContainer(container);\n\t\t\tinstance.readData();\n\t\t\treturn instance.loadChart();\n\t\t} else {\n\t\t\tconsole.log('Nie znaleziono ' + classname);\n\t\t}\n\t}\n};\n\nwindow.Base_Dashboard_ChartFilter_Pie_Js = class extends Base_Dashboard_ChartFilter_Js {\n\tgetType() {\n\t\treturn 'pie';\n\t}\n};\nwindow.Base_Dashboard_ChartFilter_Bar_Js = class extends Base_Dashboard_ChartFilter_Js {\n\tgetType() {\n\t\treturn 'bar';\n\t}\n};\nwindow.Base_Dashboard_ChartFilter_BarStacked_Js = class extends Base_Dashboard_ChartFilter_Js {\n\tgetType() {\n\t\treturn 'barStacked';\n\t}\n};\n\nwindow.Base_Dashboard_ChartFilter_Horizontal_Js = class extends Base_Dashboard_ChartFilter_Bar_Js {\n\tgetType() {\n\t\treturn 'horizontalBar';\n\t}\n};\nwindow.Base_Dashboard_ChartFilter_HorizontalStacked_Js = class extends Base_Dashboard_ChartFilter_Horizontal_Js {\n\tgetType() {\n\t\treturn 'horizontalBar';\n\t}\n\tgetSubType() {\n\t\treturn 'horizontalBarStacked';\n\t}\n};\nwindow.Base_Dashboard_ChartFilter_Funnel_Js = class extends Base_Dashboard_ChartFilter_Js {\n\tgetType() {\n\t\treturn 'funnel';\n\t}\n};\nwindow.Base_Dashboard_ChartFilter_Donut_Js = class extends Base_Dashboard_ChartFilter_Pie_Js {\n\tgetType() {\n\t\treturn 'doughnut';\n\t}\n};\n\nwindow.Base_Dashboard_ChartFilter_Line_Js = class extends Base_Dashboard_ChartFilter_Js {\n\tgetType() {\n\t\treturn 'line';\n\t}\n};\n\nwindow.Base_Dashboard_ChartFilter_LineStacked_Js = class extends Base_Dashboard_ChartFilter_Line_Js {\n\tgetType() {\n\t\treturn 'line';\n\t}\n\tgetSubType() {\n\t\treturn 'lineStacked';\n\t}\n};\n\nwindow.Base_Dashboard_ChartFilter_LinePlain_Js = class extends Base_Dashboard_ChartFilter_Line_Js {\n\tgetSubType() {\n\t\treturn 'linePlain';\n\t}\n};\n\nwindow.Base_Dashboard_ChartFilter_LinePlainStacked_Js = class extends Base_Dashboard_ChartFilter_Line_Js {\n\tgetSubType() {\n\t\treturn 'linePlainStacked';\n\t}\n};\n"],"names":["window","Base_Dashboard_MiniList_Js","container","find","on","location","href","$","data","Base_Dashboard_ChartFilter_Js","widgetData","globalChartFunctions","scales","formatAxesLabels","value","length","isNaN","Number","App","Fields","Double","formatToDisplay","datalabels","display","context","chart","getDatasetMeta","datasetIndex","hidden","formatter","valueType","datasets","dataFormatted","dataIndex","tooltips","label","tooltipItem","index","title","tooltipItems","titlesFormatted","labels","legend","onClick","e","legendItem","chartInstance","config","type","defaults","Chart","global","apply","generateLabels","areColorsFromDividingField","isMultiFilter","options","boxWidth","forEach","fillStyle","strokeStyle","plugins","hideVerticalBarDatalabelsIfNeeded","Array","isArray","i","len","meta","push","datasetsMeta","getDatasetsMeta","_models","dataset","iItem","lenItem","metaData","dataItem","$datalabels","_model","model","size","width","padding","borderWidth","labelHeight","height","barHeight","threshold","verticalBarLabelsThreshold","_view","labelWidth","positioner","hideHorizontalBarDatalabelsIfNeeded","barWidth","horizontalBarLabelsThreshold","fixXAxisLabels","xAxes","axis","ticks","callback","substr","rotateXLabels90","minRotation","_updated","prop","_meta","hasOwnProperty","metaDataItem","_xScale","ctx","categoryWidth","categoryPercentage","measureText","fullWidth","shortenedWidth","shortened","shortenXTicks","update","x","getPixelForValue","base","getBasePixel","barPercentage","fixYAxisLabels","yAxes","shortenYTicks","getChartContainer","widgetDataEl","JSON","parse","val","chartSubType","bar","basic","maintainAspectRatio","mode","callbacks","autoSkip","beginAtZero","maxRotation","font","color","backgroundColor","borderColor","borderRadius","anchor","align","beforeDraw","barStacked","stacked","horizontalBar","horizontalBarStacked","line","labelOffset","fill","lineStacked","linePlain","lineTension","linePlainStacked","pie","cutoutPercentage","layout","bottom","doughnut","funnel","sort","removeStackedFromName","notStackedChartSubType","errorLog","getGlobalDefaultChartsOptions","to","fromArray","map","from","key","mergeOptionsArray","mergeOptionsObject","filter","item","app","getSubType","toString","chartData","mergeOptions","getDefaultDatasetOptions","defaultLabel","responsive","formatTooltipTitles","formatTooltipLabels","getBasicOptions","getDefaultBasicOptions","getType","str","filterIds","replacementStr","assignResult","split","splitted","reduce","previous","current","finalFunction","call","bind","arr","original","afterInit","isReplacementString","getFunctionFromReplacementString","parseOptionsArray","parseOptionsObject","result","propertyName","getPlugins","getDefaultPlugins","getWidgetData","loadDatasetOptions","parseOptions","loadBasicOptions","get","getContext","classname","setChartContainer","instance","readData","loadChart","console","log","Base_Dashboard_ChartFilter_Pie_Js","Base_Dashboard_ChartFilter_Bar_Js","Base_Dashboard_ChartFilter_BarStacked_Js","Base_Dashboard_ChartFilter_Horizontal_Js","Base_Dashboard_ChartFilter_HorizontalStacked_Js","Base_Dashboard_ChartFilter_Funnel_Js","Base_Dashboard_ChartFilter_Donut_Js","Base_Dashboard_ChartFilter_Line_Js","Base_Dashboard_ChartFilter_LineStacked_Js","Base_Dashboard_ChartFilter_LinePlain_Js","Base_Dashboard_ChartFilter_LinePlainStacked_Js"],"mappings":"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"}