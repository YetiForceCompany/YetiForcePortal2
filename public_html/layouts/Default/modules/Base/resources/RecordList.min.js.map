{"version":3,"file":"RecordList.min.js","sources":["RecordList.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n\njQuery.Class(\n\t'Base_RecordList_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Register tables with records\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterDataTable: function (container) {\n\t\t\tvar params = {};\n\t\t\tvar lengthMenu = app.getMainParams('listEntriesPerPage', true);\n\t\t\tif (lengthMenu) {\n\t\t\t\tparams.lengthMenu = lengthMenu;\n\t\t\t}\n\t\t\tparams.columnDefs = [{ orderable: false, targets: 0 }];\n\t\t\tparams.order = [];\n\t\t\tvar table = app.registerDataTables(container.find('table.listViewEntries'), params);\n\t\t\tif (table) {\n\t\t\t\tjQuery(table.table().container()).find('.listViewEntries').removeClass('d-none');\n\t\t\t\ttable.$('.deleteRecordButton').on('click', function (e) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\t\tAppConnector.request(element.data('url')).done((data) => {\n\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\ttable.row(element.closest('tr')).remove().draw();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\ttable.$('.listViewEntries tbody tr').on('click', function (e) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif ($.contains(jQuery(e.currentTarget).find('td:first-child').get(0), e.target)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tapp.event.trigger('AfterSelectedRecordList', {\n\t\t\t\t\t\tid: jQuery(e.currentTarget).closest('tr').data('record'),\n\t\t\t\t\t\tname: jQuery(e.currentTarget).closest('tr').data('name')\n\t\t\t\t\t});\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn table;\n\t\t},\n\t\t/**\n\t\t * Register all events in view\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterEvents: function (container) {\n\t\t\tthis.registerDataTable(container);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","registerDataTable","container","lengthMenu","app","getMainParams","params","columnDefs","orderable","targets","order","registerDataTables","find","table","removeClass","$","on","e","stopPropagation","preventDefault","currentTarget","AppConnector","request","element","data","done","result","row","closest","remove","draw","contains","get","target","event","trigger","id","name","hideModalWindow","registerEvents"],"mappings":";;AAAA,kKAEAA,OAAOC,KAAP,CACC,oBADD,CAEC,EAFD,CAGC;;;KAKCC,kBAAmB,2BAAUC,SAAV,CAAqB,YAC1B,EAD0B,CAEnCC,WAAaC,IAAIC,aAAJ,CAAkB,oBAAlB,IAFsB,CAGnCF,UAHmC,GAItCG,OAAOH,UAAP,CAAoBA,UAJkB,EAMvCG,OAAOC,UAAP,CAAoB,CAAC,CAAEC,YAAF,CAAoBC,QAAS,CAA7B,CAAD,CANmB,CAOvCH,OAAOI,KAAP,CAAe,EAPwB,CAQvC,UAAYN,IAAIO,kBAAJ,CAAuBT,UAAUU,IAAV,CAAe,uBAAf,CAAvB,CAAgEN,MAAhE,CAAZ,CA2BA,YAAA,GAzBCP,OAAOc,MAAMA,KAAN,GAAcX,SAAd,EAAP,EAAkCU,IAAlC,CAAuC,kBAAvC,EAA2DE,WAA3D,CAAuE,QAAvE,CAyBD,CAxBCD,MAAME,CAAN,CAAQ,qBAAR,EAA+BC,EAA/B,CAAkC,OAAlC,CAA2C,SAAUC,CAAV,CAAa,CACvDA,EAAEC,eAAF,EADuD,CAEvDD,EAAEE,cAAF,EAFuD,CAGvD,YAAcpB,OAAOkB,EAAEG,aAAT,CAAd,CACAC,aAAaC,OAAb,CAAqBC,QAAQC,IAAR,CAAa,KAAb,CAArB,EAA0CC,IAA1C,CAA+C,SAACD,IAAD,CAAU,CACpDA,KAAKE,MAD+C,EAEvDb,MAAMc,GAAN,CAAUJ,QAAQK,OAAR,CAAgB,IAAhB,CAAV,EAAiCC,MAAjC,GAA0CC,IAA1C,GAED,CAJD,EAKA,CATD,CAwBD,CAdCjB,MAAME,CAAN,CAAQ,2BAAR,EAAqCC,EAArC,CAAwC,OAAxC,CAAiD,SAAUC,CAAV,CAAa,CAC7DA,EAAEC,eAAF,EAD6D,CAE7DD,EAAEE,cAAF,EAF6D,CAIzDJ,EAAEgB,QAAF,CAAWhC,OAAOkB,EAAEG,aAAT,EAAwBR,IAAxB,CAA6B,gBAA7B,EAA+CoB,GAA/C,CAAmD,CAAnD,CAAX,CAAkEf,EAAEgB,MAApE,CAJyD,GAO7D7B,IAAI8B,KAAJ,CAAUC,OAAV,CAAkB,yBAAlB,CAA6C,CAC5CC,GAAIrC,OAAOkB,EAAEG,aAAT,EAAwBQ,OAAxB,CAAgC,IAAhC,EAAsCJ,IAAtC,CAA2C,QAA3C,CADwC,CAE5Ca,KAAMtC,OAAOkB,EAAEG,aAAT,EAAwBQ,OAAxB,CAAgC,IAAhC,EAAsCJ,IAAtC,CAA2C,MAA3C,CAFsC,CAA7C,CAP6D,CAW7DpB,IAAIkC,eAAJ,EAX6D,EAY7D,CAZD,CAcD,EAAOzB,KACP,CAzCF;;;KA8CC0B,eAAgB,wBAAUrC,SAAV,CAAqB,CACpC,KAAKD,iBAAL,CAAuBC,SAAvB,EACA,CAhDF,CAHD"}