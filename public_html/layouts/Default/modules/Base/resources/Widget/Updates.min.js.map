{"version":3,"file":"Updates.min.js","sources":["Updates.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\nwindow.Base_Widget_Updates_Js = class {\n\tconstructor() {\n\t\tthis.container = null;\n\t}\n\t/**\n\t * Load widget content\n\t */\n\tloadContent(page = 1) {\n\t\tconst deferred = $.Deferred();\n\t\tlet url = this.container.data('url');\n\t\tif (url) {\n\t\t\turl += page ? `&page=${page}` : '';\n\t\t\tlet progressInstance = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\telementToBlock: this.container\n\t\t\t\t},\n\t\t\t\tmessage: ' '\n\t\t\t});\n\t\t\tAppConnector.request(url)\n\t\t\t\t.done((responseData) => {\n\t\t\t\t\tthis.container.find('.js-widget-container_content').html(responseData);\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tdeferred.resolve();\n\t\t\t\t})\n\t\t\t\t.fail(function (e, er) {\n\t\t\t\t\tapp.errorLog(e, er);\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t} else {\n\t\t\taDeferred.reject();\n\t\t}\n\t\treturn deferred.promise();\n\t}\n\tregisterChangePage() {\n\t\tthis.container.on('click', '.js-change-page', (e) => {\n\t\t\tlet page = e.currentTarget.dataset.page;\n\t\t\tthis.loadContent(page);\n\t\t});\n\t}\n\t/**\n\t * Register events\n\t * @param {jQuery} container\n\t */\n\n\tregisterEvents(container) {\n\t\tthis.container = container;\n\t\tthis.loadContent();\n\t\tthis.registerChangePage();\n\t}\n};\n"],"names":["window","Base_Widget_Updates_Js","container","page","deferred","$","Deferred","url","data","progressIndicator","position","blockInfo","enabled","elementToBlock","message","AppConnector","request","done","responseData","find","html","progressInstance","mode","resolve","fail","e","er","app","errorLog","aDeferred","reject","promise","on","currentTarget","dataset","loadContent","registerChangePage"],"mappings":";;0qBAAA,kKACAA,MAAM,CAACC,sBAAP,cACC,UAAA,CAAA,SAAA,MAAA,EAAc,8BACb,IAAKC,CAAAA,SAAL,CAAiB,KACjB,CACD;AACD;AACA,IANA,OAAA,YAAA,CAAA,MAAA,CAAA,CAAA,CAAA,GAAA,CAAA,aAAA,CAAA,KAAA,CAOC,sBAAsB,CAAVC,IAAAA,KAAAA,CAAAA,IAAAA,CAAAA,IAAU,wDAAH,CAAG,CACfC,QAAQ,CAAGC,CAAC,CAACC,QAAF,EADI,CAEjBC,GAAG,CAAG,KAAKL,SAAL,CAAeM,IAAf,CAAoB,KAApB,CAFW,CAGrB,GAAID,GAAJ,CAAS,CACRA,GAAG,EAAIJ,IAAI,iBAAYA,IAAZ,CAAA,CAAqB,EADxB,CAER,oBAAoB,CAAGE,CAAC,CAACI,iBAAF,CAAoB,CAC1CC,QAAQ,CAAE,MADgC,CAE1CC,SAAS,CAAE,CACVC,OAAO,GADG,CAEVC,cAAc,CAAE,IAAKX,CAAAA,SAFX,CAF+B,CAM1CY,OAAO,CAAE,GANiC,CAApB,CAAvB,CAQAC,YAAY,CAACC,OAAb,CAAqBT,GAArB,CACEU,CAAAA,IADF,CACO,SAACC,YAAD,CAAkB,CACvB,KAAI,CAAChB,SAAL,CAAeiB,IAAf,CAAoB,8BAApB,EAAoDC,IAApD,CAAyDF,YAAzD,CADuB,CAEvBG,gBAAgB,CAACZ,iBAAjB,CAAmC,CAAEa,IAAI,CAAE,MAAR,CAAnC,CAFuB,CAGvBlB,QAAQ,CAACmB,OAAT,GACA,CALF,EAMEC,IANF,CAMO,SAAUC,CAAV,CAAaC,EAAb,CAAiB,CACtBC,GAAG,CAACC,QAAJ,CAAaH,CAAb,CAAgBC,EAAhB,CADsB,CAEtBL,gBAAgB,CAACZ,iBAAjB,CAAmC,CAAEa,IAAI,CAAE,MAAR,CAAnC,CAFsB,CAGtBO,SAAS,CAACC,MAAV,GACA,CAVF,EAWA,CArBD,KAsBU,SAAA,CAACA,MAAV,EAtBD,CAwBA,OAAe,QAAA,CAACC,OAAT,EACP,CAnCF,kCAoCC,SAAqB,kBAAA,EAAA,CAAA,IAAA,MAAA,CAAA,IAAA,CACpB,KAAK7B,SAAL,CAAe8B,EAAf,CAAkB,OAAlB,CAA2B,iBAA3B,CAA8C,SAACP,CAAD,CAAO,CACpD,IAAItB,IAAI,CAAGsB,CAAC,CAACQ,aAAF,CAAgBC,OAAhB,CAAwB/B,IAAnC,CACA,MAAI,CAACgC,WAAL,CAAiBhC,IAAjB,EACA,CAHD,EAIA,CACD;AACD;AACA;AACA,kCAEC,SAAeD,cAAAA,CAAAA,SAAf,CAA0B,CACzB,IAAA,CAAKA,SAAL,CAAiBA,SADQ,CAEzB,IAAA,CAAKiC,WAAL,EAFyB,CAGzB,KAAKC,kBAAL,GACA,CAnDF;;"}