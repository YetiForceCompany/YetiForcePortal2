{"version":3,"file":"DetailView.min.js","sources":["DetailView.js"],"sourcesContent":["/**\n * Base detail view class\n *\n * @copyright YetiForce S.A.\n * @license YetiForce Public License 5.0 (licenses/LicenseEN.txt or yetiforce.com)\n * @author Mariusz Krzaczkowski <m.krzaczkowski@yetiforce.com>\n */\n'use strict';\n\nwindow.Base_DetailView_Js = class {\n\t/**\n\t * Register record events\n\t */\n\tregisterRecordEvents() {\n\t\tthis.container.on('click', '.js-delete-record', (e) => {\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttitle: app.translate('JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE'),\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tdata: {},\n\t\t\t\t\t\turl: $(e.currentTarget).data('url')\n\t\t\t\t\t}).done((data) => {\n\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\twindow.location.href = 'index.php?module=' + app.getModuleName() + '&view=ListView';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Register widgets events\n\t */\n\tregisterWidgetsEvents() {\n\t\t$('.js-widget-container').each(function () {\n\t\t\tconst typeWidget = $(this).data('type');\n\t\t\tlet className = 'Base_Widget_' + typeWidget + '_Js';\n\t\t\tif (typeof window[className] != 'undefined') {\n\t\t\t\treturn new window[className]().registerEvents($(this));\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Register related list events\n\t */\n\tregisterRelatedListEvents() {\n\t\tif (this.container.find('#mode').val() === 'relatedList') {\n\t\t\tlet className = app.getModuleName() + '_RelatedListView_Js';\n\t\t\tif (typeof window[className] != 'undefined') {\n\t\t\t\tnew window[className]().registerEvents(this.container.find('.js-form-container'));\n\t\t\t} else {\n\t\t\t\tlet className = 'Base_RelatedListView_Js';\n\t\t\t\tif (typeof window[className] != 'undefined') {\n\t\t\t\t\tnew window[className]().registerEvents(this.container.find('.js-form-container'));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t/**\n\t * Register keyboard shortcuts events\n\t */\n\tregisterKeyboardShortcutsEvent() {\n\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\tif (event.altKey && event.code === 'KeyE') {\n\t\t\t\tthis.container.find('.js-edit-btn').trigger('click');\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Register detail view events.\n\t */\n\tregisterEvents() {\n\t\tthis.container = $('#page');\n\t\tthis.registerRecordEvents();\n\t\tthis.registerWidgetsEvents();\n\t\tthis.registerRelatedListEvents();\n\t\tthis.registerKeyboardShortcutsEvent();\n\t}\n};\n"],"names":["window","Base_DetailView_Js","container","on","e","app","showConfirmModal","title","translate","confirmedCallback","AppConnector","request","data","url","$","currentTarget","done","result","location","href","getModuleName","each","className","typeWidget","registerEvents","find","val","document","addEventListener","event","altKey","code","trigger","registerRecordEvents","registerWidgetsEvents","registerRelatedListEvents","registerKeyboardShortcutsEvent"],"mappings":"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"}