{"version":3,"file":"ListView.min.js","sources":["ListView.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nwindow.Base_ListView_Js = class {\n\t/**\n\t * Register data table\n\t */\n\tregisterDataTable() {\n\t\tthis.dataTable = app.registerDataTables(this.table, {\n\t\t\torder: [],\n\t\t\tprocessing: true,\n\t\t\tserverSide: true,\n\t\t\tsearching: false,\n\t\t\torderCellsTop: true,\n\t\t\tajax: {\n\t\t\t\turl: 'index.php',\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: (data) => {\n\t\t\t\t\t$.extend(data, this.listForm.serializeFormData());\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.listForm.find('input').on('change', () => {\n\t\t\tthis.dataTable.ajax.reload();\n\t\t});\n\t}\n\t/**\n\t * Register record events\n\t */\n\tregisterRecordEvents() {\n\t\t// table.$('.deleteRecordButton').on('click', function (e) {\n\t\t// \te.stopPropagation();\n\t\t// \te.preventDefault();\n\t\t// \tvar element = jQuery(e.currentTarget);\n\t\t// \tAppConnector.request({\n\t\t// \t\tdata: {},\n\t\t// \t\turl: element.data('url')\n\t\t// \t}).then(\n\t\t// \t\tfunction (data) {\n\t\t// \t\t\tif (data.result) {\n\t\t// \t\t\t\ttable.row(element.closest('tr')).remove().draw();\n\t\t// \t\t\t}\n\t\t// \t\t},\n\t\t// \t\tfunction (e, err) {\n\t\t// \t\t\tconsole.log([e, err]);\n\t\t// \t\t}\n\t\t// \t);\n\t\t// });\n\t\t// table.$('.listViewEntries tbody tr').on('click', function (e) {\n\t\t// \te.stopPropagation();\n\t\t// \te.preventDefault();\n\t\t// \tif ($.contains(jQuery(e.currentTarget).find('td:first-child').get(0), e.target)) {\n\t\t// \t\treturn;\n\t\t// \t}\n\t\t// \tjQuery(e.currentTarget).find('.detailLink').trigger('click');\n\t\t// });\n\t\t// var listViewContentDiv = this.getListViewContentContainer();\n\t\t// \tlistViewContentDiv.on('click', '.deleteRecordButton', function (e) {\n\t\t// \t\tvar elem = jQuery(e.currentTarget);\n\t\t// \t\tvar recordId = elem.closest('tr').data('id');\n\t\t// \t\tVtiger_List_Js.deleteRecord(recordId);\n\t\t// \t\te.stopPropagation();\n\t\t// \t});\n\t}\n\t/**\n\t * Register modal events.\n\t */\n\tregisterEvents() {\n\t\tthis.listForm = $('.js-form-container');\n\t\tthis.table = this.listForm.find('.js-list-view-table');\n\t\tthis.registerDataTable();\n\t}\n};\n"],"names":["window","Base_ListView_Js","dataTable","app","registerDataTables","table","order","processing","serverSide","searching","orderCellsTop","ajax","url","type","data","$","extend","listForm","serializeFormData","find","on","reload","registerDataTable"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAGAA,OAAOC,gBAAP;;IAAA,kCAIqB,gBACnB,KAAKC,SAAL,CAAiBC,IAAIC,kBAAJ,CAAuB,KAAKC,KAA5B,CAAmC,CACnDC,MAAO,EAD4C,CAEnDC,aAFmD,CAGnDC,aAHmD,CAInDC,YAJmD,CAKnDC,gBALmD,CAMnDC,KAAM,CACLC,IAAK,WADA,CAELC,KAAM,MAFD,CAGLC,KAAM,cAACA,KAAD,CAAU,CACfC,EAAEC,MAAF,CAASF,KAAT,CAAe,MAAKG,QAAL,CAAcC,iBAAd,EAAf,EACA,CALI,CAN6C,CAAnC,CADE,CAenB,KAAKD,QAAL,CAAcE,IAAd,CAAmB,OAAnB,EAA4BC,EAA5B,CAA+B,QAA/B,CAAyC,UAAM,CAC9C,MAAKlB,SAAL,CAAeS,IAAf,CAAoBU,MAApB,GACA,CAFD,EAGA,CACD;;uEAGuB,EACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAED;;2DAGiB,CAChB,KAAKJ,QAAL,CAAgBF,EAAE,oBAAF,CADA,CAEhB,KAAKV,KAAL,CAAa,KAAKY,QAAL,CAAcE,IAAd,CAAmB,qBAAnB,CAFG,CAGhB,KAAKG,iBAAL,GACA,CApEF"}